# æ—¥å¿—ä¼˜åŒ–åˆ†ææŠ¥å‘Š

## åˆ†æèŒƒå›´
æ•´ä¸ª `src/` ç›®å½•ä¸‹çš„æ‰€æœ‰æ—¥å¿—ä½¿ç”¨æƒ…å†µ

---

## 1. å¯ä»¥æ”¹ä¸º `log_debug!` çš„æ—¥å¿—

### 1.1 å†…éƒ¨å¤„ç†è¿‡ç¨‹æ—¥å¿—

#### `src/commands/qk/info.rs`
- **ç¬¬ 12 è¡Œ**: `log_info!("Getting ticket info for {}...", jira_id);`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!`
  - **åŸå› **: è¿™æ˜¯å†…éƒ¨å¤„ç†è¿‡ç¨‹ï¼Œç”¨æˆ·ä¸éœ€è¦çœ‹åˆ°"æ­£åœ¨è·å–"çš„æç¤ºï¼Œç›´æ¥æ˜¾ç¤ºç»“æœå³å¯

#### `src/lib/jira/status.rs`
- **ç¬¬ 317 è¡Œ**: `log_info!("Fetching status list for project: {}", project);`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!`
  - **åŸå› **: è¿™æ˜¯å†…éƒ¨ API è°ƒç”¨è¿‡ç¨‹ï¼Œå±äºæŠ€æœ¯ç»†èŠ‚

#### `src/lib/pr/github.rs`
- **ç¬¬ 143 è¡Œ**: `log_info!("Using merge method: {}", merge_method);`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!`
  - **åŸå› **: åˆå¹¶æ–¹æ³•æ˜¯å†…éƒ¨æŠ€æœ¯ç»†èŠ‚ï¼Œç”¨æˆ·ä¸éœ€è¦å…³å¿ƒ
- **ç¬¬ 334 è¡Œ**: `log_info!("Found PR #{} for branch '{}' from work-history", ...);`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!`
  - **åŸå› **: è¿™æ˜¯å†…éƒ¨æŸ¥æ‰¾è¿‡ç¨‹ï¼Œå±äºè°ƒè¯•ä¿¡æ¯

### 1.2 é…ç½®åŠ è½½æ—¥å¿—

#### `src/lib/settings/settings.rs`
- **ç¬¬ 267 è¡Œ**: `crate::log_info!("LLM_PROVIDER: {} (from environment variable)", provider);`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!`
  - **åŸå› **: é…ç½®åŠ è½½çš„è¯¦ç»†ä¿¡æ¯å±äºè°ƒè¯•ä¿¡æ¯ï¼Œç”¨æˆ·ä¸éœ€è¦æ¯æ¬¡çœ‹åˆ°
- **ç¬¬ 295 è¡Œ**: `crate::log_info!("LLM_PROVIDER: {} (from shell config file)", provider);`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!`
  - **åŸå› **: åŒä¸Š
- **ç¬¬ 304 è¡Œ**: `crate::log_info!("LLM_PROVIDER: openai (default)");`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!`
  - **åŸå› **: åŒä¸Š

### 1.3 ä¸‹è½½è¿‡ç¨‹çš„æŠ€æœ¯ç»†èŠ‚

#### `src/lib/log/logs.rs`
- **ç¬¬ 520-524 è¡Œ**: `log_info!("Warning: Failed to download {}: {}", ...);`
  - **å»ºè®®**: æ”¹ä¸º `log_warning!` æˆ– `log_debug!`
  - **åŸå› **: å¦‚æœåç»­ä¼šé‡è¯•æˆåŠŸï¼Œè¿™ä¸ªè­¦å‘Šå¯ä»¥æ”¹ä¸º debugï¼›å¦‚æœæœ€ç»ˆå¤±è´¥ï¼Œåº”è¯¥ç”¨ warning
- **ç¬¬ 610-613 è¡Œ**: `log_info!("Warning: Also failed with original CloudFront URL: {}", e2);`
  - **å»ºè®®**: æ”¹ä¸º `log_warning!` æˆ– `log_debug!`
  - **åŸå› **: åŒä¸Š
- **ç¬¬ 651 è¡Œ**: `log_info!("æ£€æµ‹åˆ°åˆ†ç‰‡æ–‡ä»¶ï¼Œéœ€è¦åˆå¹¶...");`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!`
  - **åŸå› **: è¿™æ˜¯å†…éƒ¨å¤„ç†è¿‡ç¨‹ï¼Œç”¨æˆ·ä¸éœ€è¦çŸ¥é“åˆå¹¶ç»†èŠ‚

### 1.4 çŠ¶æ€é…ç½®æ—¥å¿—

#### `src/lib/jira/status.rs`
- **ç¬¬ 325-327 è¡Œ**: `log_info!("\nSelect one of the following states to change when PR is ready or In progress:");`
  - **å»ºè®®**: ä¿ç•™ `log_info!`ï¼ˆè¿™æ˜¯ç”¨æˆ·äº¤äº’æç¤ºï¼‰
- **ç¬¬ 339 è¡Œ**: `log_info!("\nSelect one of the following states to change when PR is merged or Done:");`
  - **å»ºè®®**: ä¿ç•™ `log_info!`ï¼ˆè¿™æ˜¯ç”¨æˆ·äº¤äº’æç¤ºï¼‰
- **ç¬¬ 359-360 è¡Œ**: `log_info!("  PR created status: {}", ...);` å’Œ `log_info!("  PR merged status: {}", ...);`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!` æˆ–ç§»é™¤
  - **åŸå› **: é…ç½®å·²ä¿å­˜æˆåŠŸï¼Œè¿™äº›è¯¦ç»†ä¿¡æ¯å¯ä»¥æ”¾åœ¨ debug çº§åˆ«

---

## 2. å¯ä»¥ä¼˜åŒ–/ç§»é™¤çš„æ—¥å¿—

### 2.1 å†—ä½™çš„æˆåŠŸæç¤º

#### `src/commands/qk/download.rs`
- **ç¬¬ 14-16 è¡Œ**: `log_success!("Downloading all attachments for {}...", jira_id);` å’Œ `log_success!("Downloading logs for {}...", jira_id);`
  - **å»ºè®®**: ä¿ç•™ï¼ˆè¿™æ˜¯ç”¨æˆ·éœ€è¦çŸ¥é“çš„æ“ä½œå¼€å§‹ï¼‰
- **ç¬¬ 26 è¡Œ**: `log_success!("Getting attachments for {}...", jira_id);`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!` æˆ–ç§»é™¤
  - **åŸå› **: è¿™æ˜¯å†…éƒ¨æ­¥éª¤ï¼Œç”¨æˆ·ä¸éœ€è¦çŸ¥é“"æ­£åœ¨è·å–é™„ä»¶"çš„ä¸­é—´è¿‡ç¨‹
- **ç¬¬ 32 è¡Œ**: `log_success!("\nDownload completed!");`
  - **å»ºè®®**: ä¿ç•™ï¼ˆè¿™æ˜¯é‡è¦çš„å®Œæˆæç¤ºï¼‰
- **ç¬¬ 33-34 è¡Œ**: `log_info!("Files located at: {:?}", base_dir);` å’Œ `log_info!("Downloaded files in: {:?}/downloads", base_dir);`
  - **å»ºè®®**: åˆå¹¶ä¸ºä¸€æ¡ `log_success!` æˆ–ä¿ç•™ä¸€æ¡
  - **åŸå› **: ä¸¤æ¡ä¿¡æ¯å¯ä»¥åˆå¹¶ï¼Œå‡å°‘è¾“å‡º

#### `src/commands/qk/find.rs`
- **ç¬¬ 36 è¡Œ**: `log_success!("Searching for request ID: {}...", req_id);`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!` æˆ–ç§»é™¤
  - **åŸå› **: ç”¨æˆ·å·²ç»çŸ¥é“è¦æŸ¥æ‰¾ä»€ä¹ˆï¼Œä¸éœ€è¦é‡å¤æç¤º"æ­£åœ¨æœç´¢"
- **ç¬¬ 55-56 è¡Œ**: ä¸¤æ¡ `log_success!` æ¶ˆæ¯
  - **å»ºè®®**: åˆå¹¶ä¸ºä¸€æ¡æˆ–ä¿ç•™ä¸€æ¡æœ€é‡è¦çš„
  - **åŸå› **: "å¤åˆ¶åˆ°å‰ªè´´æ¿"å’Œ"å‘é€åˆ° Streamock"å¯ä»¥åˆå¹¶ä¸ºä¸€æ¡æˆåŠŸæ¶ˆæ¯

#### `src/commands/qk/search.rs`
- **ç¬¬ 35 è¡Œ**: `log_success!("Searching for: '{}'...", term);`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!` æˆ–ç§»é™¤
  - **åŸå› **: ç”¨æˆ·å·²ç»çŸ¥é“è¦æœç´¢ä»€ä¹ˆï¼Œä¸éœ€è¦é‡å¤æç¤º

### 2.2 é‡å¤çš„çŠ¶æ€ä¿¡æ¯

#### `src/lib/log/logs.rs`
- **ç¬¬ 1098-1161 è¡Œ**: `clean_base_dir` å‡½æ•°ä¸­çš„å¤šæ¡ `log_info!`
  - **å»ºè®®**: ç²¾ç®€ï¼Œåªä¿ç•™å…³é”®ä¿¡æ¯
  - **åŸå› **: åœ¨ `list_only` å’Œ `dry_run` æ¨¡å¼ä¸‹ï¼Œè¾“å‡ºè¿‡äºè¯¦ç»†
- **ç¬¬ 1181-1253 è¡Œ**: `clean_jira_dir` å‡½æ•°ä¸­çš„å¤šæ¡ `log_info!`
  - **å»ºè®®**: ç²¾ç®€ï¼Œåªä¿ç•™å…³é”®ä¿¡æ¯
  - **åŸå› **: åŒä¸Š

### 2.3 Setup å‘½ä»¤çš„å†—ä½™æç¤º

#### `src/commands/setup.rs`
- **ç¬¬ 25-29 è¡Œ**: å¤šæ¡ `log_info!` æç¤º
  - **å»ºè®®**: ç²¾ç®€ä¸ºä¸€æ¡
  - **åŸå› **: ä¿¡æ¯å¯ä»¥åˆå¹¶
- **ç¬¬ 36 è¡Œ**: `log_info!("\nğŸ’¾ Saving configuration...");`
  - **å»ºè®®**: ä¿ç•™ï¼ˆè¿™æ˜¯é‡è¦çš„æ“ä½œæç¤ºï¼‰
- **ç¬¬ 42 è¡Œ**: `log_info!("   Shell config: {:?}", shell_config_path);`
  - **å»ºè®®**: æ”¹ä¸º `log_debug!`
  - **åŸå› **: æ–‡ä»¶è·¯å¾„å±äºæŠ€æœ¯ç»†èŠ‚
- **ç¬¬ 60 è¡Œ**: `log_info!("   You can now use the Workflow CLI commands.");`
  - **å»ºè®®**: å¯ä»¥ç§»é™¤æˆ–åˆå¹¶åˆ°æˆåŠŸæ¶ˆæ¯ä¸­
  - **åŸå› **: è¿™æ˜¯æ˜¾è€Œæ˜“è§çš„æç¤º

---

## 3. å»ºè®®çš„ä¼˜åŒ–ä¼˜å…ˆçº§

### é«˜ä¼˜å…ˆçº§ï¼ˆç«‹å³ä¼˜åŒ–ï¼‰
1. **é…ç½®åŠ è½½æ—¥å¿—** (`src/lib/settings/settings.rs`) - æ”¹ä¸º `log_debug!`
2. **å†…éƒ¨å¤„ç†è¿‡ç¨‹æ—¥å¿—** (`src/commands/qk/info.rs`, `src/lib/jira/status.rs`) - æ”¹ä¸º `log_debug!`
3. **æŠ€æœ¯ç»†èŠ‚æ—¥å¿—** (`src/lib/pr/github.rs`) - æ”¹ä¸º `log_debug!`

### ä¸­ä¼˜å…ˆçº§ï¼ˆå¯ä»¥ä¼˜åŒ–ï¼‰
1. **ä¸‹è½½è¿‡ç¨‹çš„ä¸­é—´æ­¥éª¤** (`src/commands/qk/download.rs`) - ç²¾ç®€æˆ–æ”¹ä¸º `log_debug!`
2. **æŸ¥æ‰¾/æœç´¢çš„é‡å¤æç¤º** (`src/commands/qk/find.rs`, `src/commands/qk/search.rs`) - ç²¾ç®€
3. **æ¸…ç†å‘½ä»¤çš„è¯¦ç»†è¾“å‡º** (`src/lib/log/logs.rs`) - ç²¾ç®€

### ä½ä¼˜å…ˆçº§ï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰
1. **Setup å‘½ä»¤çš„æç¤ºä¿¡æ¯** (`src/commands/setup.rs`) - ç²¾ç®€åˆå¹¶
2. **çŠ¶æ€é…ç½®çš„è¯¦ç»†ä¿¡æ¯** (`src/lib/jira/status.rs`) - æ”¹ä¸º `log_debug!`

---

## 4. ä¼˜åŒ–åçš„é¢„æœŸæ•ˆæœ

### é»˜è®¤è¾“å‡ºï¼ˆWORKFLOW_LOG_LEVEL=infoï¼‰
- âœ… åªæ˜¾ç¤ºç”¨æˆ·éœ€è¦çš„å…³é”®ä¿¡æ¯
- âœ… æ“ä½œç»“æœï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰
- âœ… é‡è¦çš„æç¤ºä¿¡æ¯
- âŒ ä¸æ˜¾ç¤ºå†…éƒ¨å¤„ç†è¿‡ç¨‹
- âŒ ä¸æ˜¾ç¤ºæŠ€æœ¯ç»†èŠ‚
- âŒ ä¸æ˜¾ç¤ºé…ç½®åŠ è½½ä¿¡æ¯

### Debug è¾“å‡ºï¼ˆWORKFLOW_LOG_LEVEL=debugï¼‰
- âœ… æ˜¾ç¤ºæ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…éƒ¨å¤„ç†è¿‡ç¨‹
- âœ… æ˜¾ç¤ºæŠ€æœ¯ç»†èŠ‚
- âœ… æ˜¾ç¤ºé…ç½®åŠ è½½ä¿¡æ¯
- âœ… ä¾¿äºè°ƒè¯•å’Œé—®é¢˜æ’æŸ¥

---

## 5. æ€»ç»“

### éœ€è¦æ”¹ä¸º `log_debug!` çš„æ—¥å¿—æ•°é‡
- çº¦ **15-20 å¤„**æ—¥å¿—åº”è¯¥æ”¹ä¸º `log_debug!`

### å¯ä»¥ä¼˜åŒ–/ç§»é™¤çš„æ—¥å¿—æ•°é‡
- çº¦ **10-15 å¤„**æ—¥å¿—å¯ä»¥ç²¾ç®€æˆ–åˆå¹¶

### ä¼˜åŒ–åçš„å¥½å¤„
1. **æ›´ç®€æ´çš„è¾“å‡º** - ç”¨æˆ·åªçœ‹åˆ°éœ€è¦çš„ä¿¡æ¯
2. **æ›´å¥½çš„è°ƒè¯•ä½“éªŒ** - éœ€è¦æ—¶å¯ä»¥å¯ç”¨ debug æ¨¡å¼
3. **æ›´æ¸…æ™°çš„æ—¥å¿—çº§åˆ«** - åŒºåˆ†ç”¨æˆ·ä¿¡æ¯å’Œè°ƒè¯•ä¿¡æ¯
4. **æ›´ä¸“ä¸šçš„ç”¨æˆ·ä½“éªŒ** - å‡å°‘å†—ä½™å’Œå™ªéŸ³

