# Stash ç®¡ç†éœ€æ±‚æ–‡æ¡£

## ğŸ“‹ éœ€æ±‚æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿° Git Stash ç®¡ç†åŠŸèƒ½çš„éœ€æ±‚ï¼Œæä¾›å®Œæ•´çš„ stash æ“ä½œèƒ½åŠ›ï¼ŒåŒ…æ‹¬åˆ—å‡ºã€åº”ç”¨ã€åˆ é™¤ç­‰æ“ä½œã€‚

**çŠ¶æ€**: ğŸ“‹ éœ€æ±‚åˆ†æä¸­
**åˆ†ç±»**: Git å·¥ä½œæµ
**ä¼˜å…ˆçº§**: ä¸­ä¼˜å…ˆçº§
**æ¥æº**: ä» `docs/requirements/GIT_WORKFLOW.md` æå–

---

## ğŸ¯ éœ€æ±‚ç›®æ ‡

æä¾›å®Œæ•´çš„ Git Stash ç®¡ç†åŠŸèƒ½ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿï¼š
1. æŸ¥çœ‹æ‰€æœ‰ stash æ¡ç›®åŠå…¶è¯¦ç»†ä¿¡æ¯
2. çµæ´»åœ°åº”ç”¨ã€åˆ é™¤ stash
3. é€šè¿‡äº¤äº’å¼ç•Œé¢é€‰æ‹© stashï¼Œæå‡ç”¨æˆ·ä½“éªŒ
4. æä¾›å®‰å…¨çš„ç¡®è®¤æœºåˆ¶ï¼Œé¿å…è¯¯æ“ä½œ

---

## ğŸ“ è¯¦ç»†éœ€æ±‚

### 1. `stash list` - åˆ—å‡ºæ‰€æœ‰ stash

#### åŠŸèƒ½æè¿°
åˆ—å‡ºæ‰€æœ‰ stash æ¡ç›®ï¼Œæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬åˆ›å»ºæ—¶é—´ã€æ¶ˆæ¯ç­‰ã€‚

#### åŠŸèƒ½è¦æ±‚
- åˆ—å‡ºæ‰€æœ‰ stash æ¡ç›®
- æ˜¾ç¤ºæ¯ä¸ª stash çš„åˆ›å»ºæ—¶é—´ã€æ¶ˆæ¯ç­‰ä¿¡æ¯
- æ”¯æŒæ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯ï¼ˆ`--stat` é€‰é¡¹ï¼‰
- æ ¼å¼åŒ–è¾“å‡ºï¼ˆè¡¨æ ¼æˆ–åˆ—è¡¨æ˜¾ç¤ºï¼‰

#### å‘½ä»¤ç¤ºä¾‹
```bash
workflow stash list                                # åˆ—å‡ºæ‰€æœ‰ stash
workflow stash list --stat                         # æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯
```

#### è¾“å‡ºæ ¼å¼è¦æ±‚
- é»˜è®¤ï¼šè¡¨æ ¼å½¢å¼æ˜¾ç¤º stash ç´¢å¼•ã€æ¶ˆæ¯ã€åˆ›å»ºæ—¶é—´
- `--stat`ï¼šé¢å¤–æ˜¾ç¤ºæ–‡ä»¶å˜æ›´ç»Ÿè®¡ï¼ˆå¢åˆ æ”¹æ–‡ä»¶æ•°ï¼‰

#### å®ç°å»ºè®®
- ä½¿ç”¨ `git stash list` å‘½ä»¤è·å–åˆ—è¡¨
- è§£æ `git stash list` è¾“å‡ºæ ¼å¼ï¼š`stash@{n}: On <branch>: <message>`
- å¯é€‰ï¼šä½¿ç”¨ `git stash show -p stash@{n} --stat` è·å–ç»Ÿè®¡ä¿¡æ¯
- ä½¿ç”¨è¡¨æ ¼åº“æ ¼å¼åŒ–è¾“å‡ºï¼ˆå¦‚ `tabled`ï¼‰

---

### 2. `stash apply` - åº”ç”¨ stash

#### åŠŸèƒ½æè¿°
åº”ç”¨æŒ‡å®šçš„ stashï¼Œä¿ç•™ stash æ¡ç›®ï¼ˆä¸åˆ é™¤ï¼‰ã€‚

#### åŠŸèƒ½è¦æ±‚
- æ”¯æŒåº”ç”¨æœ€æ–°çš„ stashï¼ˆé»˜è®¤ï¼‰
- æ”¯æŒåº”ç”¨æŒ‡å®šçš„ stashï¼ˆ`stash@{n}` æ ¼å¼ï¼‰
- æ”¯æŒäº¤äº’å¼é€‰æ‹© stash
- å¤„ç†åº”ç”¨æ—¶çš„å†²çªæƒ…å†µ
- æä¾›æ¸…æ™°çš„é”™è¯¯æç¤ºå’Œè§£å†³å»ºè®®

#### å‘½ä»¤ç¤ºä¾‹
```bash
workflow stash apply                               # åº”ç”¨æœ€æ–°çš„ stash
workflow stash apply stash@{1}                     # åº”ç”¨æŒ‡å®šçš„ stash
workflow stash apply --interactive                 # äº¤äº’å¼é€‰æ‹© stash
```

#### è¡Œä¸ºè¯´æ˜
- å¦‚æœå·¥ä½œåŒºæœ‰æœªæäº¤çš„æ›´æ”¹ï¼Œåº”è¯¥æç¤ºç”¨æˆ·
- åº”ç”¨åå¦‚æœäº§ç”Ÿå†²çªï¼Œä¿ç•™ stash æ¡ç›®ï¼Œæç¤ºç”¨æˆ·è§£å†³å†²çª
- åº”ç”¨æˆåŠŸåï¼Œæ˜¾ç¤ºåº”ç”¨çš„æ–‡ä»¶åˆ—è¡¨æˆ–ç»Ÿè®¡ä¿¡æ¯

#### å®ç°å»ºè®®
- ä½¿ç”¨ `git stash apply stash@{n}` å‘½ä»¤
- æ£€æŸ¥å·¥ä½œåŒºçŠ¶æ€ï¼Œå¦‚æœ‰æœªæäº¤æ›´æ”¹åˆ™æç¤º
- æ£€æµ‹å†²çªï¼šä½¿ç”¨ `git ls-files -u` æ£€æŸ¥æœªåˆå¹¶æ–‡ä»¶
- äº¤äº’å¼é€‰æ‹©ï¼šä½¿ç”¨ `dialoguer` æˆ–ç±»ä¼¼åº“ï¼Œæ˜¾ç¤º stash åˆ—è¡¨ä¾›ç”¨æˆ·é€‰æ‹©

---

### 3. `stash drop` - åˆ é™¤ stash

#### åŠŸèƒ½æè¿°
åˆ é™¤æŒ‡å®šçš„ stash æ¡ç›®ã€‚

#### åŠŸèƒ½è¦æ±‚
- æ”¯æŒåˆ é™¤æœ€æ–°çš„ stashï¼ˆé»˜è®¤ï¼‰
- æ”¯æŒåˆ é™¤æŒ‡å®šçš„ stashï¼ˆ`stash@{n}` æ ¼å¼ï¼‰
- æ”¯æŒäº¤äº’å¼é€‰æ‹©è¦åˆ é™¤çš„ stash
- **æä¾›ç¡®è®¤æç¤º**ï¼ˆé¿å…è¯¯åˆ ï¼‰
- æ˜¾ç¤ºåˆ é™¤çš„ stash ä¿¡æ¯ï¼ˆç¡®è®¤åˆ é™¤çš„å†…å®¹ï¼‰

#### å‘½ä»¤ç¤ºä¾‹
```bash
workflow stash drop                                # åˆ é™¤æœ€æ–°çš„ stash
workflow stash drop stash@{1}                     # åˆ é™¤æŒ‡å®šçš„ stash
workflow stash drop --interactive                 # äº¤äº’å¼é€‰æ‹©è¦åˆ é™¤çš„ stash
```

#### å®‰å…¨æœºåˆ¶
- **å¿…é¡»**æä¾›ç¡®è®¤æç¤ºï¼Œæ˜¾ç¤ºè¦åˆ é™¤çš„ stash ä¿¡æ¯
- æ”¯æŒ `--force` é€‰é¡¹è·³è¿‡ç¡®è®¤ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
- åˆ é™¤å‰æ˜¾ç¤º stash çš„æ‘˜è¦ä¿¡æ¯ï¼ˆæ¶ˆæ¯ã€åˆ›å»ºæ—¶é—´ï¼‰

#### å®ç°å»ºè®®
- ä½¿ç”¨ `git stash drop stash@{n}` å‘½ä»¤
- åˆ é™¤å‰å…ˆè·å– stash ä¿¡æ¯å¹¶æ˜¾ç¤ºç»™ç”¨æˆ·
- ä½¿ç”¨ `ConfirmDialog` è¿›è¡Œç¡®è®¤
- äº¤äº’å¼é€‰æ‹©ï¼šæ˜¾ç¤º stash åˆ—è¡¨ï¼Œæ”¯æŒå¤šé€‰ï¼ˆå¯é€‰ï¼‰

---

### 4. `stash pop` - åº”ç”¨å¹¶åˆ é™¤ stash

#### åŠŸèƒ½æè¿°
åº”ç”¨ stash å¹¶åˆ é™¤è¯¥æ¡ç›®ï¼Œç›¸å½“äº `apply + drop`ã€‚

#### åŠŸèƒ½è¦æ±‚
- æ”¯æŒåº”ç”¨å¹¶åˆ é™¤æœ€æ–°çš„ stashï¼ˆé»˜è®¤ï¼‰
- æ”¯æŒåº”ç”¨å¹¶åˆ é™¤æŒ‡å®šçš„ stashï¼ˆ`stash@{n}` æ ¼å¼ï¼‰
- æ”¯æŒäº¤äº’å¼é€‰æ‹© stash
- å¤„ç†åº”ç”¨æ—¶çš„å†²çªæƒ…å†µ
- å¦‚æœåº”ç”¨å¤±è´¥ï¼ˆå†²çªï¼‰ï¼Œä¿ç•™ stash æ¡ç›®

#### å‘½ä»¤ç¤ºä¾‹
```bash
workflow stash pop                                 # åº”ç”¨å¹¶åˆ é™¤æœ€æ–°çš„ stash
workflow stash pop stash@{1}                      # åº”ç”¨å¹¶åˆ é™¤æŒ‡å®šçš„ stash
workflow stash pop --interactive                  # äº¤äº’å¼é€‰æ‹© stash
```

#### è¡Œä¸ºè¯´æ˜
- å…ˆå°è¯•åº”ç”¨ stash
- å¦‚æœåº”ç”¨æˆåŠŸï¼Œåˆ™åˆ é™¤ stash æ¡ç›®
- å¦‚æœåº”ç”¨å¤±è´¥ï¼ˆå†²çªï¼‰ï¼Œ**ä¿ç•™** stash æ¡ç›®ï¼Œæç¤ºç”¨æˆ·è§£å†³å†²çª
- åº”ç”¨æˆåŠŸåï¼Œæ˜¾ç¤ºåº”ç”¨çš„æ–‡ä»¶åˆ—è¡¨æˆ–ç»Ÿè®¡ä¿¡æ¯

#### å®ç°å»ºè®®
- ä½¿ç”¨ `git stash pop stash@{n}` å‘½ä»¤
- æ£€æµ‹å†²çªï¼šä½¿ç”¨ `git ls-files -u` æ£€æŸ¥æœªåˆå¹¶æ–‡ä»¶
- å¦‚æœæœ‰å†²çªï¼Œä¸æ‰§è¡Œ drop æ“ä½œï¼Œä¿ç•™ stash
- äº¤äº’å¼é€‰æ‹©ï¼šæ˜¾ç¤º stash åˆ—è¡¨ä¾›ç”¨æˆ·é€‰æ‹©

---

## ğŸ”§ æŠ€æœ¯å®ç°

### æ¶æ„è®¾è®¡

#### 1. ä»£ç ç»„ç»‡
éµå¾ªç°æœ‰çš„å‘½ä»¤æ¨¡å—åŒ–æ¶æ„ï¼š

```
src/commands/stash/
  â”œâ”€â”€ mod.rs          # å¯¼å‡ºæ‰€æœ‰å­å‘½ä»¤æ¨¡å—
  â”œâ”€â”€ list.rs         # åˆ—å‡ºæ‰€æœ‰ stash
  â”œâ”€â”€ apply.rs        # åº”ç”¨ stash
  â”œâ”€â”€ drop.rs         # åˆ é™¤ stash
  â”œâ”€â”€ pop.rs          # åº”ç”¨å¹¶åˆ é™¤ stash
  â””â”€â”€ helpers.rs      # è¾…åŠ©å‡½æ•°ï¼ˆå¯é€‰ï¼‰

src/lib/cli/stash.rs  # CLI å®šä¹‰ï¼ˆStashSubcommand æšä¸¾ï¼‰
```

#### 2. åº“å±‚æ‰©å±•ï¼ˆ`src/lib/git/stash.rs`ï¼‰

éœ€è¦æ·»åŠ çš„æ–¹æ³•ï¼š

```rust
impl GitStash {
    /// åˆ—å‡ºæ‰€æœ‰ stash æ¡ç›®
    pub fn stash_list() -> Result<Vec<StashEntry>> { ... }

    /// åº”ç”¨æŒ‡å®šçš„ stashï¼ˆä¸åˆ é™¤ï¼‰
    pub fn stash_apply(stash_ref: &str) -> Result<StashApplyResult> { ... }

    /// åˆ é™¤æŒ‡å®šçš„ stash
    pub fn stash_drop(stash_ref: &str) -> Result<()> { ... }

    /// åº”ç”¨å¹¶åˆ é™¤æŒ‡å®šçš„ stash
    pub fn stash_pop(stash_ref: Option<&str>) -> Result<StashPopResult> { ... }

    /// è·å– stash çš„ç»Ÿè®¡ä¿¡æ¯
    pub fn stash_show_stat(stash_ref: &str) -> Result<StashStat> { ... }
}
```

#### 3. æ•°æ®ç»“æ„

```rust
/// Stash æ¡ç›®ä¿¡æ¯
#[derive(Debug, Clone)]
pub struct StashEntry {
    pub index: usize,              // stash@{n} ä¸­çš„ n
    pub branch: String,              // åˆ›å»ºæ—¶çš„åˆ†æ”¯
    pub message: String,            // stash æ¶ˆæ¯
    pub commit_hash: String,        // commit hash
    pub timestamp: Option<DateTime<Local>>, // åˆ›å»ºæ—¶é—´
}

/// Stash åº”ç”¨ç»“æœ
#[derive(Debug, Clone)]
pub struct StashApplyResult {
    pub applied: bool,
    pub has_conflicts: bool,
    pub message: Option<String>,
    pub warnings: Vec<String>,
    pub stat: Option<StashStat>,
}

/// Stash ç»Ÿè®¡ä¿¡æ¯
#[derive(Debug, Clone)]
pub struct StashStat {
    pub files_changed: usize,
    pub insertions: usize,
    pub deletions: usize,
}
```

### Git å‘½ä»¤ä½¿ç”¨

#### åŸºç¡€å‘½ä»¤
- `git stash list` - åˆ—å‡ºæ‰€æœ‰ stash
- `git stash apply stash@{n}` - åº”ç”¨ stash
- `git stash drop stash@{n}` - åˆ é™¤ stash
- `git stash pop stash@{n}` - åº”ç”¨å¹¶åˆ é™¤ stash
- `git stash show stash@{n} --stat` - æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯

#### è¾“å‡ºè§£æ
- `git stash list` è¾“å‡ºæ ¼å¼ï¼š`stash@{n}: On <branch>: <message>`
- éœ€è¦è§£æç´¢å¼•ã€åˆ†æ”¯åã€æ¶ˆæ¯
- å¯é€‰ï¼šä½¿ç”¨ `git log` è·å–æ›´è¯¦ç»†çš„æ—¶é—´ä¿¡æ¯

### äº¤äº’å¼ç•Œé¢

#### ä½¿ç”¨åº“
- `dialoguer` - ç”¨äºäº¤äº’å¼é€‰æ‹©ï¼ˆSelect, Confirmï¼‰
- `tabled` - ç”¨äºè¡¨æ ¼æ ¼å¼åŒ–è¾“å‡º

#### äº¤äº’æµç¨‹
1. **åˆ—å‡º stash**ï¼šæ˜¾ç¤ºè¡¨æ ¼ï¼ŒåŒ…å«ç´¢å¼•ã€æ¶ˆæ¯ã€æ—¶é—´
2. **é€‰æ‹© stash**ï¼šä½¿ç”¨ `Select` ç»„ä»¶ï¼Œæ”¯æŒæœç´¢/è¿‡æ»¤
3. **ç¡®è®¤æ“ä½œ**ï¼šä½¿ç”¨ `ConfirmDialog` è¿›è¡Œå±é™©æ“ä½œç¡®è®¤

### é”™è¯¯å¤„ç†

#### å¸¸è§é”™è¯¯åœºæ™¯
1. **æ²¡æœ‰ stash**ï¼šæç¤ºç”¨æˆ·æ²¡æœ‰å¯ç”¨çš„ stash
2. **å·¥ä½œåŒºæœ‰æœªæäº¤æ›´æ”¹**ï¼šæç¤ºç”¨æˆ·å…ˆæäº¤æˆ– stash
3. **åº”ç”¨æ—¶å†²çª**ï¼šä¿ç•™ stashï¼Œæä¾›å†²çªè§£å†³æŒ‡å¯¼
4. **æ— æ•ˆçš„ stash å¼•ç”¨**ï¼šæç¤ºç”¨æˆ·æ£€æŸ¥ stash åˆ—è¡¨

#### é”™è¯¯æç¤º
- æä¾›æ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯
- æä¾›è§£å†³å»ºè®®
- å¯¹äºå†²çªï¼Œæä¾›è¯¦ç»†çš„è§£å†³æ­¥éª¤

---

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶

#### `stash list`
- [ ] èƒ½å¤Ÿåˆ—å‡ºæ‰€æœ‰ stash æ¡ç›®
- [ ] æ­£ç¡®æ˜¾ç¤º stash ç´¢å¼•ã€æ¶ˆæ¯ã€åˆ†æ”¯ä¿¡æ¯
- [ ] `--stat` é€‰é¡¹æ­£ç¡®æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯
- [ ] è¡¨æ ¼æ ¼å¼æ¸…æ™°æ˜“è¯»
- [ ] æ²¡æœ‰ stash æ—¶æ˜¾ç¤ºå‹å¥½æç¤º

#### `stash apply`
- [ ] èƒ½å¤Ÿåº”ç”¨æœ€æ–°çš„ stashï¼ˆé»˜è®¤ï¼‰
- [ ] èƒ½å¤Ÿåº”ç”¨æŒ‡å®šçš„ stashï¼ˆ`stash@{1}` ç­‰ï¼‰
- [ ] äº¤äº’å¼é€‰æ‹©åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] åº”ç”¨åæ­£ç¡®ä¿ç•™ stash æ¡ç›®
- [ ] å†²çªæ—¶æ­£ç¡®æ£€æµ‹å¹¶æç¤º
- [ ] å·¥ä½œåŒºæœ‰æœªæäº¤æ›´æ”¹æ—¶æ­£ç¡®æç¤º

#### `stash drop`
- [ ] èƒ½å¤Ÿåˆ é™¤æœ€æ–°çš„ stashï¼ˆé»˜è®¤ï¼‰
- [ ] èƒ½å¤Ÿåˆ é™¤æŒ‡å®šçš„ stashï¼ˆ`stash@{1}` ç­‰ï¼‰
- [ ] äº¤äº’å¼é€‰æ‹©åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] **å¿…é¡»**æä¾›ç¡®è®¤æç¤º
- [ ] åˆ é™¤å‰æ˜¾ç¤º stash ä¿¡æ¯
- [ ] `--force` é€‰é¡¹æ­£ç¡®è·³è¿‡ç¡®è®¤

#### `stash pop`
- [ ] èƒ½å¤Ÿåº”ç”¨å¹¶åˆ é™¤æœ€æ–°çš„ stashï¼ˆé»˜è®¤ï¼‰
- [ ] èƒ½å¤Ÿåº”ç”¨å¹¶åˆ é™¤æŒ‡å®šçš„ stashï¼ˆ`stash@{1}` ç­‰ï¼‰
- [ ] äº¤äº’å¼é€‰æ‹©åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] åº”ç”¨æˆåŠŸåæ­£ç¡®åˆ é™¤ stash
- [ ] å†²çªæ—¶ä¿ç•™ stash æ¡ç›®
- [ ] æ­£ç¡®æ£€æµ‹å’Œå¤„ç†å†²çª

### ä»£ç è´¨é‡éªŒæ”¶

- [ ] ä»£ç éµå¾ªé¡¹ç›®ä»£ç è§„èŒƒ
- [ ] é”™è¯¯å¤„ç†å®Œå–„ï¼Œæ‰€æœ‰é”™è¯¯åœºæ™¯éƒ½æœ‰å¤„ç†
- [ ] ä»£ç æœ‰é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- [ ] ä¸ç°æœ‰ä»£ç é£æ ¼ä¸€è‡´
- [ ] åº“å±‚æ–¹æ³•å¯è¢«å…¶ä»–æ¨¡å—å¤ç”¨

### ç”¨æˆ·ä½“éªŒéªŒæ”¶

- [ ] å‘½ä»¤è¾“å‡ºæ¸…æ™°æ˜“è¯»
- [ ] é”™è¯¯æç¤ºå‹å¥½ä¸”æœ‰å¸®åŠ©
- [ ] äº¤äº’å¼ç•Œé¢æµç•…
- [ ] ç¡®è®¤æç¤ºæ˜ç¡®ï¼Œé¿å…è¯¯æ“ä½œ
- [ ] å¸®åŠ©ä¿¡æ¯å®Œæ•´ï¼ˆ`--help`ï¼‰

---

## ğŸ“Š å½“å‰çŠ¶æ€åˆ†æ

### å·²å®ç°åŠŸèƒ½

#### åº“å±‚ï¼ˆ`src/lib/git/stash.rs`ï¼‰
- âœ… `stash_push()` - ä¿å­˜åˆ° stash
- âœ… `stash_pop()` - æ¢å¤å¹¶åˆ é™¤ï¼ˆ**ä»…æ”¯æŒæœ€æ–°**ï¼Œä¸æ”¯æŒæŒ‡å®š stashï¼‰
- âœ… `has_unmerged()` - æ£€æŸ¥å†²çª

#### ä½¿ç”¨åœºæ™¯
- âœ… PR ç›¸å…³å‘½ä»¤ä¸­ä½¿ç”¨ stash ä½œä¸ºè¾…åŠ©åŠŸèƒ½
  - `pr create` - åˆ›å»º PR æ—¶æš‚å­˜ä¿®æ”¹
  - `pr pick` - cherry-pick æ—¶æš‚å­˜ä¿®æ”¹
  - `pr sync` - åŒæ­¥åˆ†æ”¯æ—¶æš‚å­˜ä¿®æ”¹
  - `pr rebase` - rebase æ—¶æš‚å­˜ä¿®æ”¹

### ç¼ºå¤±åŠŸèƒ½

#### CLI å‘½ä»¤å±‚
- âŒ æ²¡æœ‰ç‹¬ç«‹çš„ `stash` å‘½ä»¤
- âŒ æ²¡æœ‰ `StashSubcommand` æšä¸¾å®šä¹‰
- âŒ æ²¡æœ‰å‘½ä»¤å®ç°æ¨¡å—ï¼ˆ`src/commands/stash/`ï¼‰

#### åº“å±‚åŠŸèƒ½
- âŒ `stash_list()` - åˆ—å‡ºæ‰€æœ‰ stash
- âŒ `stash_apply()` - åº”ç”¨ stashï¼ˆä¸åˆ é™¤ï¼‰
- âŒ `stash_drop()` - åˆ é™¤ stash
- âš ï¸ `stash_pop()` - éœ€è¦æ‰©å±•æ”¯æŒæŒ‡å®š stashï¼ˆ`stash@{n}`ï¼‰

### å®ç°ä¼˜å…ˆçº§

1. **é«˜ä¼˜å…ˆçº§**ï¼š
   - `stash list` - åŸºç¡€åŠŸèƒ½ï¼Œç”¨æˆ·éœ€è¦æŸ¥çœ‹ stash åˆ—è¡¨
   - `stash pop` - æ‰©å±•æ”¯æŒæŒ‡å®š stashï¼ˆå½“å‰ä»…æ”¯æŒæœ€æ–°ï¼‰

2. **ä¸­ä¼˜å…ˆçº§**ï¼š
   - `stash apply` - åº”ç”¨ä½†ä¸åˆ é™¤
   - `stash drop` - åˆ é™¤åŠŸèƒ½

3. **ä½ä¼˜å…ˆçº§**ï¼š
   - äº¤äº’å¼é€‰æ‹©åŠŸèƒ½ï¼ˆå¯ä»¥åç»­ä¼˜åŒ–ï¼‰
   - ç»Ÿè®¡ä¿¡æ¯æ˜¾ç¤ºï¼ˆ`--stat`ï¼‰

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [Git å·¥ä½œæµéœ€æ±‚æ–‡æ¡£](./GIT_WORKFLOW.md) - åŒ…å« stash ç®¡ç†çš„ç®€è¦è¯´æ˜
- [Git æ¶æ„æ–‡æ¡£](../architecture/lib/GIT_ARCHITECTURE.md) - Git æ¨¡å—æ¶æ„è¯´æ˜

---

## ğŸ“ å®æ–½è®¡åˆ’

### é˜¶æ®µ 1ï¼šåº“å±‚æ‰©å±•
1. æ‰©å±• `src/lib/git/stash.rs`ï¼Œæ·»åŠ ç¼ºå¤±çš„æ–¹æ³•
2. å®šä¹‰å¿…è¦çš„æ•°æ®ç»“æ„ï¼ˆ`StashEntry`, `StashApplyResult` ç­‰ï¼‰
3. å®ç°åŸºç¡€åŠŸèƒ½ï¼ˆä¸åŒ…å«äº¤äº’å¼ï¼‰

### é˜¶æ®µ 2ï¼šå‘½ä»¤å±‚å®ç°
1. åˆ›å»º `src/lib/cli/stash.rs`ï¼Œå®šä¹‰ `StashSubcommand`
2. åˆ›å»º `src/commands/stash/` æ¨¡å—
3. å®ç° 4 ä¸ªå­å‘½ä»¤çš„åŸºç¡€åŠŸèƒ½
4. åœ¨ `src/bin/workflow.rs` ä¸­æ·»åŠ è·¯ç”±

### é˜¶æ®µ 3ï¼šäº¤äº’å¼åŠŸèƒ½
1. å®ç°äº¤äº’å¼é€‰æ‹©åŠŸèƒ½
2. ä¼˜åŒ–è¾“å‡ºæ ¼å¼ï¼ˆè¡¨æ ¼æ˜¾ç¤ºï¼‰
3. æ·»åŠ ç»Ÿè®¡ä¿¡æ¯æ”¯æŒ

### é˜¶æ®µ 4ï¼šæµ‹è¯•å’Œä¼˜åŒ–
1. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½åœºæ™¯
2. ä¼˜åŒ–é”™è¯¯å¤„ç†
3. å®Œå–„æ–‡æ¡£å’Œæ³¨é‡Š

---

**ç»´æŠ¤è€…**ï¼šå¼€å‘å›¢é˜Ÿ
**åˆ›å»ºæ—¥æœŸ**: 2025-01-27
**æœ€åæ›´æ–°**: 2025-01-27
