# ä»£ç å®¡æŸ¥æŒ‡å—

> ä¸“ä¸º AI åŠ©æ‰‹è®¾è®¡çš„ä»£ç æ£€æŸ¥æŒ‡å—ï¼Œæä¾›ç³»ç»ŸåŒ–çš„ä»£ç è´¨é‡å’Œå¤ç”¨æ€§æ£€æŸ¥æ–¹æ³•ï¼Œè¯†åˆ«é‡å¤ä»£ç å’Œä¼˜åŒ–æœºä¼šã€‚

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

**æ£€æŸ¥é‡ç‚¹**ï¼šè¯†åˆ«ä»£ç é‡å¤ã€å·¥å…·å¤ç”¨å’Œä¼˜åŒ–æœºä¼šã€‚

**å…³é”®ç›®æ ‡**ï¼š
- âœ… æ¶ˆé™¤é‡å¤ï¼šè¯†åˆ«å¹¶æŠ½å–é‡å¤ä»£ç ä¸ºå…¬å…±æ–¹æ³•
- âœ… å·¥å…·å¤ç”¨ï¼šä½¿ç”¨å·²å°è£…çš„å·¥å…·å‡½æ•°æ›¿æ¢é‡å¤å®ç°
- âœ… ä¾èµ–ä¼˜åŒ–ï¼šè¯†åˆ«å¯ç”¨ç¬¬ä¸‰æ–¹åº“æ›¿æ¢çš„è‡ªå®ç°ä»£ç 
- âœ… è§„èŒƒéµå¾ªï¼šç¡®ä¿ä»£ç é£æ ¼å’Œå¯¼å…¥é¡ºåºç¬¦åˆé¡¹ç›®è§„èŒƒ

---

## ğŸ“‹ ç›®å½•

- [æ£€æŸ¥ç›®æ ‡](#-æ£€æŸ¥ç›®æ ‡)
- [æ£€æŸ¥æµç¨‹](#-æ£€æŸ¥æµç¨‹)
- [é‡å¤ä»£ç æ£€æŸ¥](#-é‡å¤ä»£ç æ£€æŸ¥)
- [å·²å°è£…å·¥å…·æ£€æŸ¥](#-å·²å°è£…å·¥å…·æ£€æŸ¥)
- [ç¬¬ä¸‰æ–¹å·¥å…·æ£€æŸ¥](#-ç¬¬ä¸‰æ–¹å·¥å…·æ£€æŸ¥)
- [æ£€æŸ¥æ¸…å•](#-æ£€æŸ¥æ¸…å•)
- [ç¤ºä¾‹åˆ†æ](#-ç¤ºä¾‹åˆ†æ)

---

## ğŸ¯ æ£€æŸ¥ç›®æ ‡

ä»£ç æ£€æŸ¥çš„ä¸»è¦ç›®æ ‡ï¼š

1. **æ¶ˆé™¤é‡å¤ä»£ç **ï¼šè¯†åˆ«å¹¶æŠ½å–é‡å¤çš„ä»£ç æ¨¡å¼ä¸ºå…¬å…±æ–¹æ³•
2. **å¤ç”¨å·²æœ‰å·¥å…·**ï¼šè¯†åˆ«å¯ä»¥ä½¿ç”¨å·²å°è£…å·¥å…·å‡½æ•°æ›¿æ¢çš„ä»£ç 
3. **ä¼˜åŒ–ä¾èµ–ä½¿ç”¨**ï¼šè¯†åˆ«å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ›¿æ¢çš„è‡ªå®ç°ä»£ç 
4. **è§„èŒƒä»£ç é£æ ¼**ï¼šç¡®ä¿ä»£ç éµå¾ªé¡¹ç›®è§„èŒƒï¼ŒåŒ…æ‹¬å¯¼å…¥é¡ºåºç­‰

---

## ğŸ”„ æ£€æŸ¥æµç¨‹

### æ­¥éª¤ 1ï¼šæ‰«æä»£ç åº“

1. **å…¨é‡æ‰«æ**ï¼šä½¿ç”¨ `grep` æˆ–è¯­ä¹‰æœç´¢å·¥å…·æ‰«æ `src/` ç›®å½•
2. **åˆ†ç±»ç»Ÿè®¡**ï¼šæŒ‰æ¨¡å—ã€åŠŸèƒ½åˆ†ç±»ç»Ÿè®¡ä»£ç æ¨¡å¼
3. **æ¨¡å¼è¯†åˆ«**ï¼šè¯†åˆ«å¸¸è§çš„ä»£ç æ¨¡å¼å’Œé‡å¤ç‰‡æ®µ

### æ­¥éª¤ 2ï¼šé‡å¤ä»£ç åˆ†æ

1. **ç›¸ä¼¼åº¦æ£€æµ‹**ï¼šæŸ¥æ‰¾ç»“æ„ç›¸ä¼¼ã€é€»è¾‘é‡å¤çš„ä»£ç å—
2. **å‚æ•°åŒ–åˆ†æ**ï¼šåˆ†æé‡å¤ä»£ç çš„å·®å¼‚ç‚¹ï¼Œç¡®å®šå¯å‚æ•°åŒ–çš„éƒ¨åˆ†
3. **æŠ½å–å»ºè®®**ï¼šæå‡ºå…¬å…±æ–¹æ³•æŠ½å–æ–¹æ¡ˆ

### æ­¥éª¤ 3ï¼šå·¥å…·å‡½æ•°æ£€æŸ¥

1. **å·¥å…·å‡½æ•°æ¸…å•**ï¼šåˆ—å‡ºæ‰€æœ‰å·²å°è£…çš„å·¥å…·å‡½æ•°
2. **ä½¿ç”¨æƒ…å†µåˆ†æ**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰ä»£ç å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›å·¥å…·
3. **æ›¿æ¢å»ºè®®**ï¼šæå‡ºä½¿ç”¨å·¥å…·å‡½æ•°æ›¿æ¢çš„æ–¹æ¡ˆ

### æ­¥éª¤ 4ï¼šç¬¬ä¸‰æ–¹åº“æ£€æŸ¥

1. **åŠŸèƒ½è¯†åˆ«**ï¼šè¯†åˆ«è‡ªå®ç°çš„åŠŸèƒ½
2. **åº“åŒ¹é…**ï¼šæŸ¥æ‰¾æ˜¯å¦æœ‰æˆç†Ÿçš„ç¬¬ä¸‰æ–¹åº“å¯ä»¥æ›¿æ¢
3. **æ›¿æ¢è¯„ä¼°**ï¼šè¯„ä¼°æ›¿æ¢çš„å¯è¡Œæ€§å’Œæ”¶ç›Š

### æ­¥éª¤ 5ï¼šç”ŸæˆæŠ¥å‘Š

1. **é—®é¢˜æ±‡æ€»**ï¼šæ±‡æ€»æ‰€æœ‰å‘ç°çš„é—®é¢˜
2. **ä¼˜å…ˆçº§æ’åº**ï¼šæŒ‰å½±å“èŒƒå›´å’Œæ”¶ç›Šæ’åº
3. **æ”¹è¿›å»ºè®®**ï¼šæä¾›å…·ä½“çš„æ”¹è¿›æ–¹æ¡ˆ

---

## ğŸ” é‡å¤ä»£ç æ£€æŸ¥

### æ£€æŸ¥æ–¹æ³•

#### 1. æ–‡ä»¶æ“ä½œæ¨¡å¼

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾é‡å¤çš„æ–‡ä»¶è¯»å†™æ“ä½œ

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾æ–‡ä»¶è¯»å–æ“ä½œ
grep -r "fs::read_to_string" src/
grep -r "File::open" src/
grep -r "BufReader::new" src/

# æŸ¥æ‰¾æ–‡ä»¶å†™å…¥æ“ä½œ
grep -r "fs::write" src/
grep -r "fs::create_dir" src/
grep -r "fs::create_dir_all" src/
```

**å¸¸è§é‡å¤æ¨¡å¼**ï¼š
- æ–‡ä»¶è¯»å– + é”™è¯¯å¤„ç†
- æ–‡ä»¶å†™å…¥ + ç›®å½•åˆ›å»º
- æ–‡ä»¶æ‰“å¼€ + BufReader åˆ›å»º

**å·²å°è£…å·¥å…·**ï¼š
- `lib/base/util/file.rs` - `FileReader::open()` - æ–‡ä»¶æ‰“å¼€å’Œ BufReader åˆ›å»º
- å»ºè®®å°è£…ï¼š`read_file_with_context()`, `write_file_with_context()`

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦æœ‰å¤šä¸ªåœ°æ–¹ä½¿ç”¨ç›¸åŒçš„æ–‡ä»¶è¯»å–æ¨¡å¼ï¼Ÿ
- [ ] é”™è¯¯å¤„ç†æ˜¯å¦ä¸€è‡´ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥æŠ½å–ä¸ºå…¬å…±å‡½æ•°ï¼Ÿ

#### 2. Git å‘½ä»¤æ‰§è¡Œæ¨¡å¼

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾é‡å¤çš„ Git å‘½ä»¤æ‰§è¡Œä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾ Git å‘½ä»¤æ‰§è¡Œ
grep -r "cmd(\"git\"" src/
grep -r "duct::cmd" src/
```

**å¸¸è§é‡å¤æ¨¡å¼**ï¼š
- Git å‘½ä»¤æ‰§è¡Œ + è¾“å‡ºè¯»å–
- Git å‘½ä»¤æ‰§è¡Œ + é”™è¯¯å¤„ç†
- Git å‘½ä»¤æ‰§è¡Œ + é™é»˜æ¨¡å¼

**å·²å°è£…å·¥å…·**ï¼š
- `lib/git/helpers.rs`ï¼š
  - `cmd_read()` - æ‰§è¡Œ Git å‘½ä»¤å¹¶è¯»å–è¾“å‡º
  - `cmd_run()` - æ‰§è¡Œ Git å‘½ä»¤ï¼ˆä¸è¯»å–è¾“å‡ºï¼‰
  - `check_success()` - é™é»˜æ‰§è¡Œå¹¶æ£€æŸ¥æˆåŠŸ
  - `check_ref_exists()` - æ£€æŸ¥ Git å¼•ç”¨æ˜¯å¦å­˜åœ¨
  - `switch_or_checkout()` - å°è¯• switchï¼Œå¤±è´¥æ—¶å›é€€åˆ° checkout

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦ç›´æ¥ä½¿ç”¨ `cmd("git", ...)` è€Œä¸æ˜¯ `cmd_read()` æˆ– `cmd_run()`ï¼Ÿ
- [ ] æ˜¯å¦æœ‰é‡å¤çš„é”™è¯¯å¤„ç†é€»è¾‘ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥å¤ç”¨ `git/helpers.rs` ä¸­çš„å‡½æ•°ï¼Ÿ

#### 3. é”™è¯¯å¤„ç†æ¨¡å¼

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾é‡å¤çš„é”™è¯¯å¤„ç†ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾é”™è¯¯å¤„ç†æ¨¡å¼
grep -r "\.wrap_err" src/
grep -r "\.context" src/
grep -r "\.with_context" src/
grep -r "bail!" src/
grep -r "ensure!" src/
```

**å¸¸è§é‡å¤æ¨¡å¼**ï¼š
- ç›¸åŒçš„é”™è¯¯æ¶ˆæ¯æ ¼å¼
- ç›¸åŒçš„ä¸Šä¸‹æ–‡æ·»åŠ æ–¹å¼
- ç›¸åŒçš„é”™è¯¯è½¬æ¢é€»è¾‘

**å·²å°è£…å·¥å…·**ï¼š
- `anyhow::Context` - é”™è¯¯ä¸Šä¸‹æ–‡æ·»åŠ 
- `anyhow::bail!` - å¿«é€Ÿè¿”å›é”™è¯¯
- `anyhow::ensure!` - æ–­è¨€å¼é”™è¯¯

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦æœ‰é‡å¤çš„é”™è¯¯æ¶ˆæ¯ï¼Ÿ
- [ ] é”™è¯¯ä¸Šä¸‹æ–‡æ˜¯å¦ä¸€è‡´ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥ç»Ÿä¸€é”™è¯¯å¤„ç†å‡½æ•°ï¼Ÿ

#### 4. å­—ç¬¦ä¸²å¤„ç†æ¨¡å¼

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾é‡å¤çš„å­—ç¬¦ä¸²å¤„ç†ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾å­—ç¬¦ä¸²å¤„ç†
grep -r "\.trim()" src/
grep -r "\.to_string()" src/
grep -r "\.to_lowercase()" src/
grep -r "format!" src/
```

**å¸¸è§é‡å¤æ¨¡å¼**ï¼š
- å­—ç¬¦ä¸²æ¸…ç†å’Œè§„èŒƒåŒ–
- æ•æ„Ÿå€¼éšè—
- å­—ç¬¦ä¸²æ ¼å¼åŒ–

**å·²å°è£…å·¥å…·**ï¼š
- `lib/base/util/string.rs`ï¼š
  - `mask_sensitive_value()` - éšè—æ•æ„Ÿå€¼

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦æœ‰é‡å¤çš„å­—ç¬¦ä¸²å¤„ç†é€»è¾‘ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥ä½¿ç”¨ `mask_sensitive_value()` éšè—æ•æ„Ÿä¿¡æ¯ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥æŠ½å–ä¸ºå…¬å…±å‡½æ•°ï¼Ÿ

#### 5. è·¯å¾„å¤„ç†æ¨¡å¼

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾é‡å¤çš„è·¯å¾„å¤„ç†ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾è·¯å¾„å¤„ç†
grep -r "Path::new" src/
grep -r "\.parent()" src/
grep -r "\.join(" src/
grep -r "\.exists()" src/
```

**å¸¸è§é‡å¤æ¨¡å¼**ï¼š
- è·¯å¾„æ‹¼æ¥å’Œè§„èŒƒåŒ–
- çˆ¶ç›®å½•è·å–å’Œåˆ›å»º
- è·¯å¾„å­˜åœ¨æ€§æ£€æŸ¥

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦æœ‰é‡å¤çš„è·¯å¾„å¤„ç†é€»è¾‘ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥æŠ½å–ä¸ºå…¬å…±å‡½æ•°ï¼Ÿ

#### 6. HTTP è¯·æ±‚æ¨¡å¼

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾é‡å¤çš„ HTTP è¯·æ±‚ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾ HTTP è¯·æ±‚
grep -r "HttpClient::new" src/
grep -r "\.get(" src/
grep -r "\.post(" src/
grep -r "reqwest" src/
```

**å¸¸è§é‡å¤æ¨¡å¼**ï¼š
- HTTP å®¢æˆ·ç«¯åˆ›å»º
- è¯·æ±‚æ„å»ºå’Œå‘é€
- å“åº”å¤„ç†å’Œé”™è¯¯å¤„ç†

**å·²å°è£…å·¥å…·**ï¼š
- `lib/base/http/client.rs` - `HttpClient` - ç»Ÿä¸€çš„ HTTP å®¢æˆ·ç«¯
- `lib/base/http/retry.rs` - `HttpRetry` - HTTP é‡è¯•æœºåˆ¶

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦ç›´æ¥ä½¿ç”¨ `reqwest` è€Œä¸æ˜¯ `HttpClient`ï¼Ÿ
- [ ] æ˜¯å¦æœ‰é‡å¤çš„è¯·æ±‚æ„å»ºé€»è¾‘ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥ä½¿ç”¨ `HttpRetry` å¤„ç†é‡è¯•ï¼Ÿ

#### 7. é…ç½®è¯»å–æ¨¡å¼

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾é‡å¤çš„é…ç½®è¯»å–ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾é…ç½®è¯»å–
grep -r "Settings::get" src/
grep -r "Settings::load" src/
grep -r "toml::from_str" src/
```

**å¸¸è§é‡å¤æ¨¡å¼**ï¼š
- é…ç½®æ–‡ä»¶è¯»å–å’Œè§£æ
- é…ç½®éªŒè¯
- é»˜è®¤å€¼å¤„ç†

**å·²å°è£…å·¥å…·**ï¼š
- `lib/base/settings/settings.rs` - `Settings` - ç»Ÿä¸€é…ç½®ç®¡ç†

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦ç›´æ¥è¯»å–é…ç½®æ–‡ä»¶è€Œä¸æ˜¯ä½¿ç”¨ `Settings`ï¼Ÿ
- [ ] æ˜¯å¦æœ‰é‡å¤çš„é…ç½®è§£æé€»è¾‘ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥ä½¿ç”¨ `Settings` APIï¼Ÿ

#### 8. æ—¥å¿—è¾“å‡ºæ¨¡å¼

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾é‡å¤çš„æ—¥å¿—è¾“å‡ºä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾æ—¥å¿—è¾“å‡º
grep -r "println!" src/
grep -r "eprintln!" src/
grep -r "info!" src/
grep -r "error!" src/
```

**å¸¸è§é‡å¤æ¨¡å¼**ï¼š
- ç›´æ¥ä½¿ç”¨ `println!` è€Œä¸æ˜¯æ—¥å¿—å®
- é‡å¤çš„æ—¥å¿—æ ¼å¼
- ä¸ä¸€è‡´çš„æ—¥å¿—çº§åˆ«

**å·²å°è£…å·¥å…·**ï¼š
- `lib/base/logger/console.rs`ï¼š
  - `info!()` - ä¿¡æ¯æ—¥å¿—
  - `error!()` - é”™è¯¯æ—¥å¿—
  - `warning!()` - è­¦å‘Šæ—¥å¿—
  - `success!()` - æˆåŠŸæ—¥å¿—
  - `debug!()` - è°ƒè¯•æ—¥å¿—
  - `separator!()` - åˆ†éš”ç¬¦
  - `separator_with_text!()` - å¸¦æ–‡æœ¬çš„åˆ†éš”ç¬¦

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦ä½¿ç”¨ `println!` è€Œä¸æ˜¯æ—¥å¿—å®ï¼Ÿ
- [ ] æ—¥å¿—æ ¼å¼æ˜¯å¦ä¸€è‡´ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥ä½¿ç”¨ç»Ÿä¸€çš„æ—¥å¿—å®ï¼Ÿ

#### 9. ç”¨æˆ·äº¤äº’æ¨¡å¼

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾é‡å¤çš„ç”¨æˆ·äº¤äº’ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾ç”¨æˆ·äº¤äº’
grep -r "Input::new" src/
grep -r "Select::new" src/
grep -r "Confirm::new" src/
grep -r "dialoguer" src/
```

**å¸¸è§é‡å¤æ¨¡å¼**ï¼š
- é‡å¤çš„å¯¹è¯æ¡†é…ç½®
- é‡å¤çš„ç”¨æˆ·è¾“å…¥éªŒè¯
- é‡å¤çš„é€‰é¡¹å¤„ç†

**å·²å°è£…å·¥å…·**ï¼š
- `lib/base/dialog/`ï¼š
  - `InputDialog` - è¾“å…¥å¯¹è¯æ¡†
  - `SelectDialog` - é€‰æ‹©å¯¹è¯æ¡†
  - `MultiSelectDialog` - å¤šé€‰å¯¹è¯æ¡†
  - `ConfirmDialog` - ç¡®è®¤å¯¹è¯æ¡†

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦ç›´æ¥ä½¿ç”¨ `dialoguer` è€Œä¸æ˜¯å°è£…çš„ Dialogï¼Ÿ
- [ ] æ˜¯å¦æœ‰é‡å¤çš„å¯¹è¯æ¡†é…ç½®ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥ä½¿ç”¨å°è£…çš„ Dialog ç±»å‹ï¼Ÿ

#### 10. è¿›åº¦æŒ‡ç¤ºå™¨æ¨¡å¼

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾é‡å¤çš„è¿›åº¦æŒ‡ç¤ºå™¨ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾è¿›åº¦æŒ‡ç¤ºå™¨
grep -r "Spinner::new" src/
grep -r "Progress::new" src/
grep -r "indicatif" src/
```

**å¸¸è§é‡å¤æ¨¡å¼**ï¼š
- é‡å¤çš„ Spinner é…ç½®
- é‡å¤çš„ Progress é…ç½®
- é‡å¤çš„æ ·å¼è®¾ç½®

**å·²å°è£…å·¥å…·**ï¼š
- `lib/base/indicator/`ï¼š
  - `Spinner` - æ—‹è½¬æŒ‡ç¤ºå™¨
  - `Progress` - è¿›åº¦æ¡

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦ç›´æ¥ä½¿ç”¨ `indicatif` è€Œä¸æ˜¯å°è£…çš„ Spinner/Progressï¼Ÿ
- [ ] æ˜¯å¦æœ‰é‡å¤çš„æ ·å¼é…ç½®ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥ä½¿ç”¨å°è£…çš„æŒ‡ç¤ºå™¨ï¼Ÿ

#### 11. å¯¼å…¥é¡ºåºæ¨¡å¼

**æ£€æŸ¥ç›®æ ‡**ï¼šæ£€æŸ¥å¯¼å…¥è¯­å¥æ˜¯å¦éµå¾ªä»é¡¶éƒ¨å¯¼å…¥çš„è§„èŒƒ

**å¯¼å…¥é¡ºåºè§„èŒƒ**ï¼š
1. **æ ‡å‡†åº“å¯¼å…¥**ï¼š`std::` å’Œ `core::` ç›¸å…³å¯¼å…¥
2. **ç¬¬ä¸‰æ–¹åº“å¯¼å…¥**ï¼šå¤–éƒ¨ crate çš„å¯¼å…¥
3. **é¡¹ç›®å†…éƒ¨å¯¼å…¥**ï¼š`crate::` æˆ–ç›¸å¯¹è·¯å¾„å¯¼å…¥
4. **æ¯ä¸ªåˆ†ç»„ä¹‹é—´ç”¨ç©ºè¡Œåˆ†éš”**

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾æ–‡ä»¶ä¸­çš„å¯¼å…¥è¯­å¥
grep -r "^use " src/ -A 0 -B 0

# æŸ¥æ‰¾å¯èƒ½è¿åå¯¼å…¥é¡ºåºçš„æ–‡ä»¶ï¼ˆå¯¼å…¥è¯­å¥ä¸åœ¨æ–‡ä»¶é¡¶éƒ¨ï¼‰
# éœ€è¦æ‰‹åŠ¨æ£€æŸ¥æˆ–ä½¿ç”¨ä»£ç åˆ†æå·¥å…·
```

**å¸¸è§é—®é¢˜æ¨¡å¼**ï¼š
- å¯¼å…¥è¯­å¥åˆ†æ•£åœ¨ä»£ç ä¸­é—´
- å¯¼å…¥é¡ºåºä¸ç¬¦åˆè§„èŒƒï¼ˆæ ‡å‡†åº“ã€ç¬¬ä¸‰æ–¹åº“ã€é¡¹ç›®å†…éƒ¨ï¼‰
- å¯¼å…¥åˆ†ç»„ä¹‹é—´æ²¡æœ‰ç©ºè¡Œåˆ†éš”
- åœ¨å‡½æ•°æˆ–æ¨¡å—ä¸­é—´ä½¿ç”¨ `use` è¯­å¥

**æ£€æŸ¥æ–¹æ³•**ï¼š
1. **æ‰‹åŠ¨æ£€æŸ¥**ï¼šæŸ¥çœ‹æ¯ä¸ªæ–‡ä»¶çš„å¯¼å…¥éƒ¨åˆ†
2. **è‡ªåŠ¨åŒ–æ£€æŸ¥**ï¼šä½¿ç”¨ `rustfmt` æˆ– `cargo clippy` æ£€æŸ¥å¯¼å…¥é¡ºåº
3. **ä»£ç å®¡æŸ¥**ï¼šåœ¨ä»£ç å®¡æŸ¥æ—¶é‡ç‚¹å…³æ³¨å¯¼å…¥é¡ºåº

**æ­£ç¡®çš„å¯¼å…¥é¡ºåºç¤ºä¾‹**ï¼š
```rust
// æ ‡å‡†åº“å¯¼å…¥
use std::fs;
use std::path::Path;
use std::io::BufRead;

// ç¬¬ä¸‰æ–¹åº“å¯¼å…¥
use color_eyre::Result;
use serde::{Deserialize, Serialize};

// é¡¹ç›®å†…éƒ¨å¯¼å…¥
use crate::base::util::file::FileReader;
use crate::base::settings::Settings;
```

**é”™è¯¯çš„å¯¼å…¥é¡ºåºç¤ºä¾‹**ï¼š
```rust
// âŒ ä¸å¥½çš„åšæ³•ï¼šå¯¼å…¥åˆ†æ•£åœ¨ä»£ç ä¸­
fn some_function() {
    use std::fs;  // ä¸åº”è¯¥åœ¨å‡½æ•°å†…éƒ¨å¯¼å…¥
    // ...
}

// âŒ ä¸å¥½çš„åšæ³•ï¼šå¯¼å…¥é¡ºåºæ··ä¹±
use crate::base::util::file::FileReader;  // é¡¹ç›®å†…éƒ¨å¯¼å…¥
use std::fs;  // æ ‡å‡†åº“å¯¼å…¥åº”è¯¥åœ¨å‰é¢
use color_eyre::Result;  // ç¬¬ä¸‰æ–¹åº“å¯¼å…¥
```

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ‰€æœ‰å¯¼å…¥è¯­å¥æ˜¯å¦éƒ½åœ¨æ–‡ä»¶é¡¶éƒ¨ï¼Ÿ
- [ ] å¯¼å…¥é¡ºåºæ˜¯å¦ç¬¦åˆè§„èŒƒï¼ˆæ ‡å‡†åº“ â†’ ç¬¬ä¸‰æ–¹åº“ â†’ é¡¹ç›®å†…éƒ¨ï¼‰ï¼Ÿ
- [ ] å¯¼å…¥åˆ†ç»„ä¹‹é—´æ˜¯å¦æœ‰ç©ºè¡Œåˆ†éš”ï¼Ÿ
- [ ] æ˜¯å¦åœ¨å‡½æ•°æˆ–æ¨¡å—ä¸­é—´ä½¿ç”¨äº† `use` è¯­å¥ï¼Ÿ
- [ ] æ˜¯å¦ä½¿ç”¨äº† `rustfmt` æ ¼å¼åŒ–å¯¼å…¥é¡ºåºï¼Ÿ

---

## ğŸ› ï¸ å·²å°è£…å·¥å…·æ£€æŸ¥

### å·¥å…·å‡½æ•°æ¸…å•

#### æ–‡ä»¶æ“ä½œå·¥å…·

**ä½ç½®**ï¼š`lib/base/util/file.rs`

- `FileReader::open(path)` - æ‰“å¼€æ–‡ä»¶å¹¶è¿”å› BufReader

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾ç›´æ¥ä½¿ç”¨ File::open çš„åœ°æ–¹
grep -r "File::open" src/ | grep -v "lib/base/util/file.rs"
```

#### å­—ç¬¦ä¸²å¤„ç†å·¥å…·

**ä½ç½®**ï¼š`lib/base/util/string.rs`

- `mask_sensitive_value(value)` - éšè—æ•æ„Ÿå€¼ï¼ˆå¦‚å¯†ç ã€tokenï¼‰

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯çš„å­—ç¬¦ä¸²å¤„ç†
grep -r "password\|token\|secret\|key" src/ -i
```

#### æ ¼å¼åŒ–å·¥å…·

**ä½ç½®**ï¼š`lib/base/util/format.rs`

- `format_size(bytes)` - æ ¼å¼åŒ–æ–‡ä»¶å¤§å°ï¼ˆB, KB, MB, GBï¼‰

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾æ–‡ä»¶å¤§å°æ ¼å¼åŒ–
grep -r "1024\|bytes\|KB\|MB\|GB" src/ -i
```

#### å¹³å°æ£€æµ‹å·¥å…·

**ä½ç½®**ï¼š`lib/base/util/platform.rs`

- `detect_release_platform()` - æ£€æµ‹å‘å¸ƒå¹³å°ï¼ˆæ“ä½œç³»ç»Ÿå’Œæ¶æ„ï¼‰

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾å¹³å°æ£€æµ‹ä»£ç 
grep -r "target_os\|target_arch\|cfg!" src/
```

#### æµè§ˆå™¨å’Œå‰ªè´´æ¿å·¥å…·

**ä½ç½®**ï¼š`lib/base/util/browser.rs`, `lib/base/util/clipboard.rs`

- `Browser::open(url)` - æ‰“å¼€æµè§ˆå™¨
- `Clipboard::copy(text)` - å¤åˆ¶åˆ°å‰ªè´´æ¿

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾æµè§ˆå™¨å’Œå‰ªè´´æ¿æ“ä½œ
grep -r "open::that\|arboard\|clipboard" src/
```

#### è§£å‹å’Œæ ¡éªŒå’Œå·¥å…·

**ä½ç½®**ï¼š`lib/base/util/unzip.rs`, `lib/base/util/checksum.rs`

- `Unzip::extract()` - è§£å‹ tar.gz æ–‡ä»¶
- `Checksum::verify()` - éªŒè¯ SHA256 æ ¡éªŒå’Œ

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾è§£å‹å’Œæ ¡éªŒå’Œæ“ä½œ
grep -r "tar::\|sha2\|sha256" src/
```

#### æ—¥æœŸæ ¼å¼åŒ–å·¥å…·

**ä½ç½®**ï¼š`lib/base/util/date.rs`

- `format_document_timestamp()` - æ ¼å¼åŒ–æ–‡æ¡£æ—¶é—´æˆ³
- `format_last_updated()` - æ ¼å¼åŒ–æœ€åæ›´æ–°æ—¶é—´
- `format_last_updated_with_time()` - æ ¼å¼åŒ–æœ€åæ›´æ–°æ—¶é—´ï¼ˆå¸¦æ—¶é—´ï¼‰

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾æ—¥æœŸæ ¼å¼åŒ–
grep -r "SystemTime\|UNIX_EPOCH\|format.*date" src/ -i
```

#### è¡¨æ ¼è¾“å‡ºå·¥å…·

**ä½ç½®**ï¼š`lib/base/util/table.rs`

- `TableBuilder` - è¡¨æ ¼æ„å»ºå™¨
- `TableStyle` - è¡¨æ ¼æ ·å¼

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾è¡¨æ ¼è¾“å‡º
grep -r "tabled\|Table" src/
```

#### Git æ“ä½œå·¥å…·

**ä½ç½®**ï¼š`lib/git/helpers.rs`

- `cmd_read(args)` - æ‰§è¡Œ Git å‘½ä»¤å¹¶è¯»å–è¾“å‡º
- `cmd_run(args)` - æ‰§è¡Œ Git å‘½ä»¤ï¼ˆä¸è¯»å–è¾“å‡ºï¼‰
- `check_success(args)` - é™é»˜æ‰§è¡Œå¹¶æ£€æŸ¥æˆåŠŸ
- `check_ref_exists(ref_path)` - æ£€æŸ¥ Git å¼•ç”¨æ˜¯å¦å­˜åœ¨
- `switch_or_checkout(switch_args, checkout_args, error_msg)` - å°è¯• switchï¼Œå¤±è´¥æ—¶å›é€€åˆ° checkout
- `remove_branch_prefix(branch)` - ç§»é™¤åˆ†æ”¯åç§°å‰ç¼€

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾ç›´æ¥ä½¿ç”¨ cmd("git", ...) çš„åœ°æ–¹
grep -r 'cmd("git"' src/ | grep -v "lib/git/helpers.rs"
```

#### HTTP å®¢æˆ·ç«¯å·¥å…·

**ä½ç½®**ï¼š`lib/base/http/`

- `HttpClient` - ç»Ÿä¸€çš„ HTTP å®¢æˆ·ç«¯
- `HttpRetry` - HTTP é‡è¯•æœºåˆ¶
- `HttpResponse` - HTTP å“åº”å¤„ç†

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾ç›´æ¥ä½¿ç”¨ reqwest çš„åœ°æ–¹
grep -r "reqwest::\|Client::new" src/ | grep -v "lib/base/http"
```

#### æ—¥å¿—å·¥å…·

**ä½ç½®**ï¼š`lib/base/logger/console.rs`

- `info!(...)` - ä¿¡æ¯æ—¥å¿—
- `error!(...)` - é”™è¯¯æ—¥å¿—
- `warning!(...)` - è­¦å‘Šæ—¥å¿—
- `success!(...)` - æˆåŠŸæ—¥å¿—
- `debug!(...)` - è°ƒè¯•æ—¥å¿—
- `separator!()` - åˆ†éš”ç¬¦
- `separator_with_text!(text)` - å¸¦æ–‡æœ¬çš„åˆ†éš”ç¬¦

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾ç›´æ¥ä½¿ç”¨ println! çš„åœ°æ–¹
grep -r "println!\|eprintln!" src/
```

#### å¯¹è¯æ¡†å·¥å…·

**ä½ç½®**ï¼š`lib/base/dialog/`

- `InputDialog` - è¾“å…¥å¯¹è¯æ¡†
- `SelectDialog` - é€‰æ‹©å¯¹è¯æ¡†
- `MultiSelectDialog` - å¤šé€‰å¯¹è¯æ¡†
- `ConfirmDialog` - ç¡®è®¤å¯¹è¯æ¡†

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾ç›´æ¥ä½¿ç”¨ dialoguer çš„åœ°æ–¹
grep -r "dialoguer::" src/ | grep -v "lib/base/dialog"
```

#### è¿›åº¦æŒ‡ç¤ºå™¨å·¥å…·

**ä½ç½®**ï¼š`lib/base/indicator/`

- `Spinner` - æ—‹è½¬æŒ‡ç¤ºå™¨
- `Progress` - è¿›åº¦æ¡

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾ç›´æ¥ä½¿ç”¨ indicatif çš„åœ°æ–¹
grep -r "indicatif::" src/ | grep -v "lib/base/indicator"
```

#### é…ç½®ç®¡ç†å·¥å…·

**ä½ç½®**ï¼š`lib/base/settings/`

- `Settings` - ç»Ÿä¸€é…ç½®ç®¡ç†
- `Paths` - è·¯å¾„ç®¡ç†
- `LLMSettings` - LLM é…ç½®

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥æ‰¾ç›´æ¥è¯»å–é…ç½®æ–‡ä»¶çš„åœ°æ–¹
grep -r "fs::read_to_string.*toml\|toml::from_str" src/ | grep -v "lib/base/settings"
```

---

## ğŸ“¦ ç¬¬ä¸‰æ–¹å·¥å…·æ£€æŸ¥

### æ£€æŸ¥æ–¹æ³•

#### 1. æ­£åˆ™è¡¨è¾¾å¼å¤„ç†

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾è‡ªå®ç°çš„æ­£åˆ™è¡¨è¾¾å¼å¤„ç†

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨
grep -r "Regex::new\|regex::" src/
```

**ç¬¬ä¸‰æ–¹å·¥å…·**ï¼š
- `regex` - Rust æ ‡å‡†æ­£åˆ™è¡¨è¾¾å¼åº“ï¼ˆå·²ä½¿ç”¨ï¼‰
- æ£€æŸ¥æ˜¯å¦æœ‰é‡å¤çš„æ­£åˆ™è¡¨è¾¾å¼ç¼–è¯‘

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦é‡å¤ç¼–è¯‘ç›¸åŒçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥ç¼“å­˜ç¼–è¯‘åçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿ

#### 2. JSON å¤„ç†

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾ JSON åºåˆ—åŒ–/ååºåˆ—åŒ–ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾ JSON å¤„ç†
grep -r "serde_json\|json::" src/
grep -r "\.to_string()\|from_str" src/
```

**ç¬¬ä¸‰æ–¹å·¥å…·**ï¼š
- `serde_json` - JSON åºåˆ—åŒ–/ååºåˆ—åŒ–ï¼ˆå·²ä½¿ç”¨ï¼‰
- `serde` - åºåˆ—åŒ–æ¡†æ¶ï¼ˆå·²ä½¿ç”¨ï¼‰

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦ä½¿ç”¨ç»Ÿä¸€çš„åºåˆ—åŒ–æ–¹å¼ï¼Ÿ
- [ ] æ˜¯å¦æœ‰é‡å¤çš„ JSON è§£æé€»è¾‘ï¼Ÿ

#### 3. TOML å¤„ç†

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾ TOML é…ç½®æ–‡ä»¶å¤„ç†

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾ TOML å¤„ç†
grep -r "toml::\|toml_edit" src/
```

**ç¬¬ä¸‰æ–¹å·¥å…·**ï¼š
- `toml` - TOML è§£æï¼ˆå·²ä½¿ç”¨ï¼‰
- `toml_edit` - TOML ç¼–è¾‘ï¼ˆå¦‚æœéœ€è¦ä¿®æ”¹ TOMLï¼‰

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦ä½¿ç”¨ç»Ÿä¸€çš„ TOML è§£ææ–¹å¼ï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦ TOML ç¼–è¾‘åŠŸèƒ½ï¼Ÿ

#### 4. å‘½ä»¤è¡Œå‚æ•°è§£æ

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾å‘½ä»¤è¡Œå‚æ•°å¤„ç†

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾å‘½ä»¤è¡Œå‚æ•°
grep -r "clap\|Arg\|Command" src/
```

**ç¬¬ä¸‰æ–¹å·¥å…·**ï¼š
- `clap` - å‘½ä»¤è¡Œå‚æ•°è§£æï¼ˆå·²ä½¿ç”¨ï¼‰

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦ä½¿ç”¨ `clap` è¿›è¡Œå‚æ•°è§£æï¼Ÿ
- [ ] æ˜¯å¦æœ‰é‡å¤çš„å‚æ•°å®šä¹‰ï¼Ÿ

#### 5. å¼‚æ­¥å¤„ç†

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾å¼‚æ­¥ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾å¼‚æ­¥ä»£ç 
grep -r "async\|await\|tokio\|futures" src/
```

**ç¬¬ä¸‰æ–¹å·¥å…·**ï¼š
- `tokio` - å¼‚æ­¥è¿è¡Œæ—¶ï¼ˆå¦‚æœéœ€è¦ï¼‰
- `futures` - å¼‚æ­¥å·¥å…·ï¼ˆå¦‚æœéœ€è¦ï¼‰

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦éœ€è¦å¼‚æ­¥å¤„ç†ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥ä½¿ç”¨å¼‚æ­¥æé«˜æ€§èƒ½ï¼Ÿ

#### 6. å¹¶å‘å¤„ç†

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾å¹¶å‘å¤„ç†ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾å¹¶å‘å¤„ç†
grep -r "thread\|std::thread\|rayon" src/
```

**å·²å°è£…å·¥å…·**ï¼š
- `lib/base/concurrent/executor.rs` - `ConcurrentExecutor` - å¹¶å‘æ‰§è¡Œå™¨

**ç¬¬ä¸‰æ–¹å·¥å…·**ï¼š
- `rayon` - æ•°æ®å¹¶è¡Œå¤„ç†ï¼ˆå¦‚æœéœ€è¦ï¼‰
- `tokio::task` - å¼‚æ­¥ä»»åŠ¡ï¼ˆå¦‚æœéœ€è¦ï¼‰

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦å¯ä»¥ä½¿ç”¨ `ConcurrentExecutor`ï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦æ›´é«˜çº§çš„å¹¶å‘å·¥å…·ï¼Ÿ

#### 7. æ—¶é—´å¤„ç†

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾æ—¶é—´å¤„ç†ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾æ—¶é—´å¤„ç†
grep -r "SystemTime\|UNIX_EPOCH\|chrono\|time::" src/
```

**ç¬¬ä¸‰æ–¹å·¥å…·**ï¼š
- `chrono` - æ—¥æœŸå’Œæ—¶é—´å¤„ç†ï¼ˆå¦‚æœéœ€è¦æ›´å¤æ‚çš„æ—¶é—´æ“ä½œï¼‰
- `time` - æ—¶é—´å¤„ç†ï¼ˆRust æ ‡å‡†åº“å·²è¶³å¤Ÿï¼‰

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦éœ€è¦æ›´å¤æ‚çš„æ—¶é—´æ“ä½œï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥ä½¿ç”¨ `chrono` ç®€åŒ–ä»£ç ï¼Ÿ

#### 8. è·¯å¾„å¤„ç†

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾è·¯å¾„å¤„ç†ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾è·¯å¾„å¤„ç†
grep -r "PathBuf\|Path::\|\.join\|\.parent" src/
```

**ç¬¬ä¸‰æ–¹å·¥å…·**ï¼š
- `pathdiff` - è·¯å¾„å·®å¼‚è®¡ç®—ï¼ˆå¦‚æœéœ€è¦ï¼‰
- `walkdir` - ç›®å½•éå†ï¼ˆå¦‚æœéœ€è¦ï¼‰

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦éœ€è¦è·¯å¾„å·®å¼‚è®¡ç®—ï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦ç›®å½•éå†ï¼Ÿ

#### 9. ç¯å¢ƒå˜é‡å¤„ç†

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾ç¯å¢ƒå˜é‡å¤„ç†

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾ç¯å¢ƒå˜é‡
grep -r "std::env\|env::var\|env::set_var" src/
```

**ç¬¬ä¸‰æ–¹å·¥å…·**ï¼š
- `dotenv` - .env æ–‡ä»¶æ”¯æŒï¼ˆå¦‚æœéœ€è¦ï¼‰
- `envy` - ç¯å¢ƒå˜é‡åˆ°ç»“æ„ä½“ï¼ˆå¦‚æœéœ€è¦ï¼‰

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦éœ€è¦ .env æ–‡ä»¶æ”¯æŒï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦ç¯å¢ƒå˜é‡åˆ°ç»“æ„ä½“çš„è½¬æ¢ï¼Ÿ

#### 10. é”™è¯¯å¤„ç†

**æ£€æŸ¥ç›®æ ‡**ï¼šæŸ¥æ‰¾é”™è¯¯å¤„ç†ä»£ç 

**æœç´¢æ¨¡å¼**ï¼š
```bash
# æŸ¥æ‰¾é”™è¯¯å¤„ç†
grep -r "Result\|Error\|anyhow\|color_eyre" src/
```

**ç¬¬ä¸‰æ–¹å·¥å…·**ï¼š
- `anyhow` / `color_eyre` - é”™è¯¯å¤„ç†ï¼ˆå·²ä½¿ç”¨ï¼‰

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦ç»Ÿä¸€ä½¿ç”¨ `anyhow::Result`ï¼Ÿ
- [ ] æ˜¯å¦ä½¿ç”¨ `Context` æ·»åŠ ä¸Šä¸‹æ–‡ï¼Ÿ

---

## âœ… æ£€æŸ¥æ¸…å•

### é‡å¤ä»£ç æ£€æŸ¥æ¸…å•

- [ ] **æ–‡ä»¶æ“ä½œ**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰é‡å¤çš„æ–‡ä»¶è¯»å†™æ¨¡å¼
- [ ] **Git å‘½ä»¤**ï¼šæ£€æŸ¥æ˜¯å¦ç›´æ¥ä½¿ç”¨ `cmd("git", ...)` è€Œä¸æ˜¯ `cmd_read()` æˆ– `cmd_run()`
- [ ] **é”™è¯¯å¤„ç†**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰é‡å¤çš„é”™è¯¯å¤„ç†é€»è¾‘
- [ ] **å­—ç¬¦ä¸²å¤„ç†**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰é‡å¤çš„å­—ç¬¦ä¸²å¤„ç†é€»è¾‘
- [ ] **è·¯å¾„å¤„ç†**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰é‡å¤çš„è·¯å¾„å¤„ç†é€»è¾‘
- [ ] **HTTP è¯·æ±‚**ï¼šæ£€æŸ¥æ˜¯å¦ç›´æ¥ä½¿ç”¨ `reqwest` è€Œä¸æ˜¯ `HttpClient`
- [ ] **é…ç½®è¯»å–**ï¼šæ£€æŸ¥æ˜¯å¦ç›´æ¥è¯»å–é…ç½®æ–‡ä»¶è€Œä¸æ˜¯ä½¿ç”¨ `Settings`
- [ ] **æ—¥å¿—è¾“å‡º**ï¼šæ£€æŸ¥æ˜¯å¦ä½¿ç”¨ `println!` è€Œä¸æ˜¯æ—¥å¿—å®
- [ ] **ç”¨æˆ·äº¤äº’**ï¼šæ£€æŸ¥æ˜¯å¦ç›´æ¥ä½¿ç”¨ `dialoguer` è€Œä¸æ˜¯å°è£…çš„ Dialog
- [ ] **è¿›åº¦æŒ‡ç¤ºå™¨**ï¼šæ£€æŸ¥æ˜¯å¦ç›´æ¥ä½¿ç”¨ `indicatif` è€Œä¸æ˜¯å°è£…çš„ Spinner/Progress
- [ ] **å¯¼å…¥é¡ºåº**ï¼šæ£€æŸ¥å¯¼å…¥è¯­å¥æ˜¯å¦éµå¾ªä»é¡¶éƒ¨å¯¼å…¥çš„è§„èŒƒï¼ˆæ ‡å‡†åº“ â†’ ç¬¬ä¸‰æ–¹åº“ â†’ é¡¹ç›®å†…éƒ¨ï¼‰

### å·²å°è£…å·¥å…·æ£€æŸ¥æ¸…å•

- [ ] **æ–‡ä»¶æ“ä½œ**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨ `FileReader::open()`ï¼Ÿ
- [ ] **å­—ç¬¦ä¸²å¤„ç†**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨ `mask_sensitive_value()`ï¼Ÿ
- [ ] **æ ¼å¼åŒ–**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨ `format_size()`ï¼Ÿ
- [ ] **å¹³å°æ£€æµ‹**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨ `detect_release_platform()`ï¼Ÿ
- [ ] **æµè§ˆå™¨/å‰ªè´´æ¿**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨ `Browser::open()` æˆ– `Clipboard::copy()`ï¼Ÿ
- [ ] **è§£å‹/æ ¡éªŒå’Œ**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨ `Unzip::extract()` æˆ– `Checksum::verify()`ï¼Ÿ
- [ ] **æ—¥æœŸæ ¼å¼åŒ–**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨æ—¥æœŸæ ¼å¼åŒ–å‡½æ•°ï¼Ÿ
- [ ] **è¡¨æ ¼è¾“å‡º**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨ `TableBuilder`ï¼Ÿ
- [ ] **Git æ“ä½œ**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨ `git/helpers.rs` ä¸­çš„å‡½æ•°ï¼Ÿ
- [ ] **HTTP å®¢æˆ·ç«¯**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨ `HttpClient` å’Œ `HttpRetry`ï¼Ÿ
- [ ] **æ—¥å¿—**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨æ—¥å¿—å®ï¼Ÿ
- [ ] **å¯¹è¯æ¡†**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨å°è£…çš„ Dialog ç±»å‹ï¼Ÿ
- [ ] **è¿›åº¦æŒ‡ç¤ºå™¨**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨å°è£…çš„ Spinner/Progressï¼Ÿ
- [ ] **é…ç½®ç®¡ç†**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨ `Settings` APIï¼Ÿ

### ç¬¬ä¸‰æ–¹å·¥å…·æ£€æŸ¥æ¸…å•

- [ ] **æ­£åˆ™è¡¨è¾¾å¼**ï¼šæ˜¯å¦é‡å¤ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿæ˜¯å¦å¯ä»¥ç¼“å­˜ï¼Ÿ
- [ ] **JSON å¤„ç†**ï¼šæ˜¯å¦ä½¿ç”¨ç»Ÿä¸€çš„åºåˆ—åŒ–æ–¹å¼ï¼Ÿ
- [ ] **TOML å¤„ç†**ï¼šæ˜¯å¦ä½¿ç”¨ç»Ÿä¸€çš„ TOML è§£ææ–¹å¼ï¼Ÿ
- [ ] **å‘½ä»¤è¡Œå‚æ•°**ï¼šæ˜¯å¦ä½¿ç”¨ `clap` è¿›è¡Œå‚æ•°è§£æï¼Ÿ
- [ ] **å¼‚æ­¥å¤„ç†**ï¼šæ˜¯å¦éœ€è¦å¼‚æ­¥å¤„ç†ï¼Ÿæ˜¯å¦å¯ä»¥ä½¿ç”¨å¼‚æ­¥æé«˜æ€§èƒ½ï¼Ÿ
- [ ] **å¹¶å‘å¤„ç†**ï¼šæ˜¯å¦å¯ä»¥ä½¿ç”¨ `ConcurrentExecutor`ï¼Ÿ
- [ ] **æ—¶é—´å¤„ç†**ï¼šæ˜¯å¦éœ€è¦æ›´å¤æ‚çš„æ—¶é—´æ“ä½œï¼Ÿæ˜¯å¦å¯ä»¥ä½¿ç”¨ `chrono`ï¼Ÿ
- [ ] **è·¯å¾„å¤„ç†**ï¼šæ˜¯å¦éœ€è¦è·¯å¾„å·®å¼‚è®¡ç®—æˆ–ç›®å½•éå†ï¼Ÿ
- [ ] **ç¯å¢ƒå˜é‡**ï¼šæ˜¯å¦éœ€è¦ .env æ–‡ä»¶æ”¯æŒæˆ–ç¯å¢ƒå˜é‡åˆ°ç»“æ„ä½“çš„è½¬æ¢ï¼Ÿ
- [ ] **é”™è¯¯å¤„ç†**ï¼šæ˜¯å¦ç»Ÿä¸€ä½¿ç”¨ `anyhow::Result`ï¼Ÿæ˜¯å¦ä½¿ç”¨ `Context` æ·»åŠ ä¸Šä¸‹æ–‡ï¼Ÿ

---

## ğŸ“ ç¤ºä¾‹åˆ†æ

### ç¤ºä¾‹ 1ï¼šæ–‡ä»¶è¯»å–é‡å¤ä»£ç 

**é—®é¢˜ä»£ç **ï¼š
```rust
// æ–‡ä»¶ A
let content = fs::read_to_string(&config_path)
    .wrap_err(format!("Failed to read config file: {:?}", config_path))?;

// æ–‡ä»¶ B
let content = fs::read_to_string(&input_path)
    .wrap_err(format!("Failed to read file: {:?}", input_path))?;
```

**æ”¹è¿›æ–¹æ¡ˆ**ï¼š
```rust
// æŠ½å–ä¸ºå…¬å…±å‡½æ•°
pub fn read_file_with_context(path: &Path, context: &str) -> Result<String> {
    fs::read_to_string(path)
        .wrap_err(format!("{}: {:?}", context, path))
}

// ä½¿ç”¨
let content = read_file_with_context(&config_path, "Failed to read config file")?;
```

### ç¤ºä¾‹ 2ï¼šGit å‘½ä»¤æ‰§è¡Œé‡å¤ä»£ç 

**é—®é¢˜ä»£ç **ï¼š
```rust
// ç›´æ¥ä½¿ç”¨ cmd("git", ...)
let output = cmd("git", &["rev-parse", "--abbrev-ref", "HEAD"])
    .read()
    .wrap_err("Failed to get current branch")?;
```

**æ”¹è¿›æ–¹æ¡ˆ**ï¼š
```rust
// ä½¿ç”¨å·²å°è£…çš„å·¥å…·å‡½æ•°
use crate::git::helpers::cmd_read;

let output = cmd_read(&["rev-parse", "--abbrev-ref", "HEAD"])?;
```

### ç¤ºä¾‹ 3ï¼šæ—¥å¿—è¾“å‡ºé‡å¤ä»£ç 

**é—®é¢˜ä»£ç **ï¼š
```rust
// ç›´æ¥ä½¿ç”¨ println!
println!("âœ“ Successfully created branch: {}", branch_name);
println!("âœ— Failed to create branch: {}", error);
```

**æ”¹è¿›æ–¹æ¡ˆ**ï¼š
```rust
// ä½¿ç”¨æ—¥å¿—å®
use crate::base::util::{success, error};

success!("Successfully created branch: {}", branch_name);
error!("Failed to create branch: {}", error);
```

### ç¤ºä¾‹ 4ï¼šHTTP è¯·æ±‚é‡å¤ä»£ç 

**é—®é¢˜ä»£ç **ï¼š
```rust
// ç›´æ¥ä½¿ç”¨ reqwest
let client = reqwest::Client::new();
let response = client
    .get(url)
    .header("Authorization", format!("Bearer {}", token))
    .send()
    .await?;
```

**æ”¹è¿›æ–¹æ¡ˆ**ï¼š
```rust
// ä½¿ç”¨å°è£…çš„ HttpClient
use crate::base::http::HttpClient;

let client = HttpClient::new()?;
let response = client
    .get(url)?
    .auth(Authorization::Bearer(token))
    .send()?;
```

### ç¤ºä¾‹ 5ï¼šç”¨æˆ·äº¤äº’é‡å¤ä»£ç 

**é—®é¢˜ä»£ç **ï¼š
```rust
// ç›´æ¥ä½¿ç”¨ dialoguer
use dialoguer::Input;

let input: String = Input::new()
    .with_prompt("Enter branch name")
    .interact()?;
```

**æ”¹è¿›æ–¹æ¡ˆ**ï¼š
```rust
// ä½¿ç”¨å°è£…çš„ Dialog
use crate::base::dialog::InputDialog;

let input = InputDialog::new("Enter branch name")
    .interact()?;
```

### ç¤ºä¾‹ 6ï¼šå¯¼å…¥é¡ºåºä¸è§„èŒƒ

**é—®é¢˜ä»£ç **ï¼š
```rust
// âŒ ä¸å¥½çš„åšæ³•ï¼šå¯¼å…¥é¡ºåºæ··ä¹±ï¼Œå¯¼å…¥åˆ†æ•£
use crate::base::util::file::FileReader;  // é¡¹ç›®å†…éƒ¨å¯¼å…¥åº”è¯¥åœ¨æœ€å
use std::fs;  // æ ‡å‡†åº“å¯¼å…¥åº”è¯¥åœ¨å‰é¢
use color_eyre::Result;  // ç¬¬ä¸‰æ–¹åº“å¯¼å…¥

fn some_function() {
    use std::path::Path;  // ä¸åº”è¯¥åœ¨å‡½æ•°å†…éƒ¨å¯¼å…¥
    // ...
}
```

**æ”¹è¿›æ–¹æ¡ˆ**ï¼š
```rust
// âœ… å¥½çš„åšæ³•ï¼šå¯¼å…¥é¡ºåºè§„èŒƒï¼Œéƒ½åœ¨æ–‡ä»¶é¡¶éƒ¨
// æ ‡å‡†åº“å¯¼å…¥
use std::fs;
use std::path::Path;

// ç¬¬ä¸‰æ–¹åº“å¯¼å…¥
use color_eyre::Result;

// é¡¹ç›®å†…éƒ¨å¯¼å…¥
use crate::base::util::file::FileReader;

fn some_function() {
    // ä½¿ç”¨å·²å¯¼å…¥çš„ç±»å‹
    // ...
}
```

---

## ğŸ”§ æ£€æŸ¥å·¥å…·æ¨è

### ä»£ç æœç´¢å·¥å…·

1. **ripgrep (rg)**ï¼šå¿«é€Ÿæ–‡æœ¬æœç´¢
   ```bash
   rg "pattern" src/
   ```

2. **è¯­ä¹‰æœç´¢**ï¼šä½¿ç”¨ AI å·¥å…·è¿›è¡Œè¯­ä¹‰æœç´¢
   - æŸ¥æ‰¾ç›¸ä¼¼åŠŸèƒ½çš„ä»£ç 
   - è¯†åˆ«é‡å¤æ¨¡å¼

### ä»£ç åˆ†æå·¥å…·

1. **cargo clippy**ï¼šRust ä»£ç æ£€æŸ¥
   ```bash
   cargo clippy -- -D warnings
   ```

2. **cargo fmt**ï¼šä»£ç æ ¼å¼åŒ–æ£€æŸ¥
   ```bash
   cargo fmt --check
   ```

### é‡å¤ä»£ç æ£€æµ‹

1. **äººå·¥å®¡æŸ¥**ï¼šé€æ–‡ä»¶æ£€æŸ¥
2. **æ¨¡å¼åŒ¹é…**ï¼šä½¿ç”¨ grep æŸ¥æ‰¾å¸¸è§æ¨¡å¼
3. **è¯­ä¹‰åˆ†æ**ï¼šä½¿ç”¨ AI å·¥å…·è¿›è¡Œè¯­ä¹‰åˆ†æ

---

## ğŸ“š å‚è€ƒèµ„æº

### é¡¹ç›®æ–‡æ¡£

- [å¼€å‘è§„èŒƒ](../DEVELOPMENT_GUIDELINES.md) - ä»£ç é£æ ¼å’Œå¼€å‘è§„èŒƒ
- [æ¶æ„æ–‡æ¡£](../architecture/) - å„æ¨¡å—æ¶æ„æ–‡æ¡£
- [å·¥å…·å‡½æ•°æ¶æ„](../architecture/lib/TOOLS_ARCHITECTURE.md) - å·¥å…·å‡½æ•°æ¨¡å—æ¶æ„

### å·¥å…·å‡½æ•°ä½ç½®

- `lib/base/util/` - é€šç”¨å·¥å…·å‡½æ•°
- `lib/git/helpers.rs` - Git æ“ä½œè¾…åŠ©å‡½æ•°
- `lib/base/http/` - HTTP å®¢æˆ·ç«¯å·¥å…·
- `lib/base/dialog/` - å¯¹è¯æ¡†å·¥å…·
- `lib/base/indicator/` - è¿›åº¦æŒ‡ç¤ºå™¨å·¥å…·
- `lib/base/logger/` - æ—¥å¿—å·¥å…·
- `lib/base/settings/` - é…ç½®ç®¡ç†å·¥å…·

---

## ğŸ“ æ£€æŸ¥æŠ¥å‘Šæ¨¡æ¿

æ£€æŸ¥å®Œæˆåï¼Œåº”ç”Ÿæˆæ£€æŸ¥æŠ¥å‘Šï¼ŒåŒ…å«ï¼š

1. **é—®é¢˜æ±‡æ€»**ï¼šåˆ—å‡ºæ‰€æœ‰å‘ç°çš„é—®é¢˜
2. **ä¼˜å…ˆçº§æ’åº**ï¼šæŒ‰å½±å“èŒƒå›´å’Œæ”¶ç›Šæ’åº
3. **æ”¹è¿›å»ºè®®**ï¼šæä¾›å…·ä½“çš„æ”¹è¿›æ–¹æ¡ˆ
4. **ä»£ç ç¤ºä¾‹**ï¼šæä¾›æ”¹è¿›å‰åçš„ä»£ç å¯¹æ¯”

**æŠ¥å‘Šæ ¼å¼**ï¼š
```markdown
# ä»£ç æ£€æŸ¥æŠ¥å‘Š

## é—®é¢˜æ±‡æ€»

### 1. é‡å¤ä»£ç é—®é¢˜
- [é—®é¢˜æè¿°]
- [ä½ç½®]
- [æ”¹è¿›æ–¹æ¡ˆ]

### 2. å·¥å…·å‡½æ•°æ›¿æ¢
- [é—®é¢˜æè¿°]
- [ä½ç½®]
- [æ”¹è¿›æ–¹æ¡ˆ]

### 3. ç¬¬ä¸‰æ–¹å·¥å…·æ›¿æ¢
- [é—®é¢˜æè¿°]
- [ä½ç½®]
- [æ”¹è¿›æ–¹æ¡ˆ]

## ä¼˜å…ˆçº§æ’åº

1. [é«˜ä¼˜å…ˆçº§é—®é¢˜]
2. [ä¸­ä¼˜å…ˆçº§é—®é¢˜]
3. [ä½ä¼˜å…ˆçº§é—®é¢˜]

## æ”¹è¿›å»ºè®®

[å…·ä½“çš„æ”¹è¿›å»ºè®®å’Œä»£ç ç¤ºä¾‹]
```

---

**æœ€åæ›´æ–°**: 2024-12-19
