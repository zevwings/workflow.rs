# æµ‹è¯•å‘½ä»¤å‚è€ƒ

> æœ¬æ–‡æ¡£æä¾›å¸¸ç”¨æµ‹è¯•å‘½ä»¤çš„å¿«é€Ÿå‚è€ƒã€‚

---

## ğŸ“‹ ç›®å½•

- [åŸºæœ¬æµ‹è¯•å‘½ä»¤](#-åŸºæœ¬æµ‹è¯•å‘½ä»¤)
- [æµ‹è¯•ç±»å‹å‘½ä»¤](#-æµ‹è¯•ç±»å‹å‘½ä»¤)
- [Makefileæµ‹è¯•å‘½ä»¤](#makefileæµ‹è¯•å‘½ä»¤)
- [æµ‹è¯•è°ƒè¯•](#-æµ‹è¯•è°ƒè¯•)

---

## ğŸš€ åŸºæœ¬æµ‹è¯•å‘½ä»¤

### è¿è¡Œæµ‹è¯•

**è¿è¡Œæ‰€æœ‰æµ‹è¯•**ï¼š
```bash
# ä½¿ç”¨ Cargo
cargo test

# ä½¿ç”¨ Makefile
make test
```

**è¿è¡Œç‰¹å®šæµ‹è¯•**ï¼š
```bash
# è¿è¡Œç‰¹å®šæ¨¡å—çš„æµ‹è¯•
cargo test --lib æ¨¡å—å

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
cargo test --test æµ‹è¯•æ–‡ä»¶å

# è¿è¡ŒåŒ¹é…æ¨¡å¼çš„æµ‹è¯•
cargo test test_parse_url

# è¿è¡Œè¢«å¿½ç•¥çš„æµ‹è¯•
cargo test -- --ignored

# è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆåŒ…æ‹¬è¢«å¿½ç•¥çš„ï¼‰
make test-all
```

**æµ‹è¯•è¾“å‡ºé€‰é¡¹**ï¼š
```bash
# æ˜¾ç¤ºè¯¦ç»†è¾“å‡º
cargo test -- --nocapture

# æ˜¾ç¤ºæµ‹è¯•æ‰§è¡Œæ—¶é—´
cargo test -- --nocapture --test-threads=1

# åªè¿è¡Œå¤±è´¥çš„æµ‹è¯•ï¼ˆéœ€è¦å…ˆè¿è¡Œä¸€æ¬¡ï¼‰
cargo test -- --failed
```

---

## ğŸ¯ æµ‹è¯•ç±»å‹å‘½ä»¤

### å•å…ƒæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•
cargo test --lib

# è¿è¡Œç‰¹å®šæ¨¡å—çš„å•å…ƒæµ‹è¯•
cargo test --lib æ¨¡å—å::å‡½æ•°å
```

### é›†æˆæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰é›†æˆæµ‹è¯•
cargo test --test '*'

# è¿è¡Œç‰¹å®šé›†æˆæµ‹è¯•
cargo test --test integration_test
```

### æ–‡æ¡£æµ‹è¯•

```bash
# è¿è¡Œæ–‡æ¡£ä¸­çš„ä»£ç ç¤ºä¾‹ï¼ˆdoctestï¼‰
cargo test --doc

# è¿è¡Œç‰¹å®šæ¨¡å—çš„æ–‡æ¡£æµ‹è¯•
cargo test --doc æ¨¡å—å
```

---

## Makefileæµ‹è¯•å‘½ä»¤

é¡¹ç›®æä¾›äº†ä¾¿æ·çš„ Makefile å‘½ä»¤ï¼š

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
make test

# è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆåŒ…æ‹¬è¢«å¿½ç•¥çš„ï¼‰
make test-all

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
make coverage

# æ‰“å¼€è¦†ç›–ç‡æŠ¥å‘Š
make coverage-open

# CI ç¯å¢ƒè¦†ç›–ç‡æ£€æŸ¥
make coverage-ci

# æŸ¥çœ‹è¦†ç›–ç‡è¶‹åŠ¿
make coverage-trend
```

---

## ğŸ› æµ‹è¯•è°ƒè¯•

### è¿è¡Œå•ä¸ªæµ‹è¯•

```bash
# è¿è¡Œå•ä¸ªæµ‹è¯•å‡½æ•°
cargo test test_parse_url -- --nocapture

# è¿è¡Œå•ä¸ªæµ‹è¯•å¹¶æ˜¾ç¤ºè¯¦ç»†è¾“å‡º
cargo test test_parse_url -- --nocapture --test-threads=1
```

### æµ‹è¯•å¤±è´¥æ—¶è°ƒè¯•

```bash
# æ˜¾ç¤ºå¤±è´¥çš„æµ‹è¯•è¾“å‡º
cargo test -- --nocapture

# åªè¿è¡Œå¤±è´¥çš„æµ‹è¯•
cargo test -- --failed
```

---

## ğŸ“Š å¸¸ç”¨å‘½ä»¤ç»„åˆ

### å¼€å‘æ—¶å¸¸ç”¨

```bash
# å¿«é€Ÿæµ‹è¯•ï¼ˆåªè¿è¡Œå•å…ƒæµ‹è¯•ï¼‰
cargo test --lib

# è¯¦ç»†æµ‹è¯•è¾“å‡º
cargo test -- --nocapture

# æµ‹è¯•å¹¶æ˜¾ç¤ºè¦†ç›–ç‡
make coverage && make coverage-open
```

### CI ç¯å¢ƒå¸¸ç”¨

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test

# è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆåŒ…æ‹¬è¢«å¿½ç•¥çš„ï¼‰
cargo test -- --ignored

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
make coverage-ci
```

---

## ç›¸å…³æ–‡æ¡£

- [æµ‹è¯•ç»„ç»‡è§„èŒƒ](./organization.md) - æµ‹è¯•ç»„ç»‡ç»“æ„
- [æµ‹è¯•ç¼–å†™è§„èŒƒ](./writing.md) - æµ‹è¯•ç¼–å†™è§„èŒƒ
- [è¦†ç›–ç‡æµ‹è¯•æŒ‡å—](./references/coverage.md) - è¦†ç›–ç‡å·¥å…·è¯¦ç»†ä½¿ç”¨

---

**æœ€åæ›´æ–°**: 2025-12-25

