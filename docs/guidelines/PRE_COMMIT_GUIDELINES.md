# æäº¤å‰æ£€æŸ¥æŒ‡å—

> æœ¬æ–‡æ¡£å®šä¹‰äº†ä»£ç å¼€å‘å®Œæˆåã€æäº¤ä»£ç å‰éœ€è¦å®Œæˆçš„æ£€æŸ¥é¡¹ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œé¡¹ç›®è§„èŒƒã€‚

---

## ğŸ“‹ ç›®å½•

- [æ–‡æ¡£æ£€æŸ¥](#-æ–‡æ¡£æ£€æŸ¥)
- [CLI å’Œ Completion æ£€æŸ¥](#-cli-å’Œ-completion-æ£€æŸ¥)
- [ä»£ç ä¼˜åŒ–æ£€æŸ¥](#-ä»£ç ä¼˜åŒ–æ£€æŸ¥)
- [æµ‹è¯•ç”¨ä¾‹æ£€æŸ¥](#-æµ‹è¯•ç”¨ä¾‹æ£€æŸ¥)
- [ä»£ç è´¨é‡æ£€æŸ¥](#-ä»£ç è´¨é‡æ£€æŸ¥)
- [å…¶ä»–æ£€æŸ¥é¡¹](#-å…¶ä»–æ£€æŸ¥é¡¹)
- [å¿«é€Ÿæ£€æŸ¥æ¸…å•](#-å¿«é€Ÿæ£€æŸ¥æ¸…å•)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)

---

## ğŸ“š æ–‡æ¡£æ£€æŸ¥

### 1.1 README.md æ›´æ–°

**æ£€æŸ¥é¡¹**ï¼š
- [ ] å‘½ä»¤æ¸…å•éƒ¨åˆ†ï¼ˆç¬¬ 367-541 è¡Œï¼‰æ˜¯å¦å·²æ›´æ–°æ–°å¢/ä¿®æ”¹çš„å‘½ä»¤
- [ ] æ¶æ„æ€»è§ˆéƒ¨åˆ†ï¼ˆç¬¬ 666-742 è¡Œï¼‰æ˜¯å¦åæ˜ äº†æ¶æ„å˜æ›´
- [ ] å¿«é€Ÿå¼€å§‹éƒ¨åˆ†æ˜¯å¦å‡†ç¡®
- [ ] ç‰ˆæœ¬å·æ˜¯å¦ä¸ `Cargo.toml` ä¸€è‡´

**ä½ç½®**ï¼š`README.md`

### 1.2 æ¶æ„æ–‡æ¡£æ›´æ–°

**æ£€æŸ¥é¡¹**ï¼š
- [ ] ç›¸å…³å‘½ä»¤æ¶æ„æ–‡æ¡£æ˜¯å¦å·²æ›´æ–°ï¼ˆ`docs/architecture/commands/*_COMMAND_ARCHITECTURE.md`ï¼‰
- [ ] ç›¸å…³ lib å±‚æ¶æ„æ–‡æ¡£æ˜¯å¦å·²æ›´æ–°ï¼ˆ`docs/architecture/lib/*_ARCHITECTURE.md`ï¼‰
- [ ] `CLI_ARCHITECTURE.md` æ˜¯å¦åæ˜ äº†å‘½ä»¤ç»“æ„å˜æ›´
- [ ] `COMPLETION_ARCHITECTURE.md` æ˜¯å¦åæ˜ äº†è¡¥å…¨ç›¸å…³å˜æ›´

**ä½ç½®**ï¼š`docs/architecture/`

### 1.3 æ–‡æ¡£ç´¢å¼•æ›´æ–°

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æ–°å¢æ–‡æ¡£æ˜¯å¦å·²æ·»åŠ åˆ° `docs/README.md` ç´¢å¼•

**ä½ç½®**ï¼š`docs/README.md`

### 1.4 è¿ç§»æ–‡æ¡£

**æ£€æŸ¥é¡¹**ï¼š
- [ ] å¦‚æœ‰ç ´åæ€§å˜æ›´ï¼Œæ˜¯å¦å·²åˆ›å»ºè¿ç§»æŒ‡å—ï¼ˆ`docs/migration/`ï¼‰
- [ ] ç‰ˆæœ¬å·æ˜¯å¦æ­£ç¡®

---

## ğŸ”§ CLI å’Œ Completion æ£€æŸ¥

### 2.1 CLI å‘½ä»¤ç»“æ„

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æ–°å¢å‘½ä»¤æ˜¯å¦å·²åœ¨ `Commands` æšä¸¾ä¸­æ³¨å†Œï¼ˆ`src/lib/cli/commands.rs`ï¼‰
- [ ] å­å‘½ä»¤æ˜¯å¦å·²åœ¨å¯¹åº”æšä¸¾ä¸­å®šä¹‰
- [ ] å‘½ä»¤æ–‡æ¡£æ³¨é‡Šï¼ˆ`///`ï¼‰æ˜¯å¦å®Œæ•´
- [ ] å‚æ•°å‘½åæ˜¯å¦ä¸€è‡´ï¼ˆå¦‚ `jira_id` vs `JIRA_ID`ï¼‰
- [ ] å…±ç”¨å‚æ•°æ˜¯å¦å·²æå–ï¼ˆå‚è€ƒ [ä»£ç ä¼˜åŒ–æ£€æŸ¥](#-ä»£ç ä¼˜åŒ–æ£€æŸ¥)ï¼‰

**ä½ç½®**ï¼š`src/lib/cli/`

**ç¤ºä¾‹**ï¼š
```rust
// src/lib/cli/commands.rs
#[derive(Subcommand)]
pub enum Commands {
    /// æ–°å¢å‘½ä»¤çš„æè¿°
    NewCommand {
        #[command(subcommand)]
        subcommand: NewSubcommand,
    },
}
```

### 2.2 Completion å®Œæ•´æ€§

**æ£€æŸ¥é¡¹**ï¼š
- [ ] è¿è¡Œè¡¥å…¨å®Œæ•´æ€§æµ‹è¯•ï¼š`cargo test --test completeness`
- [ ] æ–°å¢å‘½ä»¤æ˜¯å¦åŒ…å«åœ¨è¡¥å…¨è„šæœ¬ä¸­
- [ ] æ‰€æœ‰ shell ç±»å‹ï¼ˆzsh, bash, fish, powershell, elvishï¼‰æ˜¯å¦æ­£å¸¸ç”Ÿæˆ
- [ ] è¡¥å…¨è„šæœ¬æ–‡ä»¶å‘½åæ˜¯å¦æ­£ç¡®

**æµ‹è¯•å‘½ä»¤**ï¼š
```bash
# è¿è¡Œè¡¥å…¨å®Œæ•´æ€§æµ‹è¯•
cargo test --test completeness

# æ‰‹åŠ¨ç”Ÿæˆè¡¥å…¨è„šæœ¬éªŒè¯
cargo run -- completion generate
```

**ä½ç½®**ï¼š`tests/completion/completeness.rs`

### 2.3 CLI å‚æ•°ä¼˜åŒ–

**æ£€æŸ¥é¡¹**ï¼š
- [ ] é‡å¤å‚æ•°æ˜¯å¦å·²æå–ä¸ºå…±ç”¨ç»“æ„ä½“ï¼ˆå¦‚ `OutputFormatArgs`ã€`DryRunArgs`ï¼‰
- [ ] æ˜¯å¦ä½¿ç”¨ `#[command(flatten)]` å¤ç”¨å‚æ•°ç»„
- [ ] å‚æ•°éªŒè¯é€»è¾‘æ˜¯å¦ç»Ÿä¸€

**å‚è€ƒ**ï¼šè§ [ä»£ç ä¼˜åŒ–æ£€æŸ¥ - æå–å…±ç”¨å‚æ•°](#æå–å…±ç”¨å‚æ•°)

---

## ğŸ” ä»£ç ä¼˜åŒ–æ£€æŸ¥

### 3.1 å¦‚ä½•æå–å…±ç”¨ä»£ç 

#### æå–å…±ç”¨å‚æ•°

**åœºæ™¯**ï¼šå¤šä¸ªå‘½ä»¤ä½¿ç”¨ç›¸åŒçš„å‚æ•°ï¼ˆå¦‚è¾“å‡ºæ ¼å¼ã€dry-run ç­‰ï¼‰

**æ­¥éª¤**ï¼š

1. **åˆ›å»ºå…±ç”¨å‚æ•°ç»“æ„ä½“**

åœ¨ `src/lib/cli/common.rs` ä¸­å®šä¹‰ï¼š

```rust
//! å…±ç”¨ CLI å‚æ•°å®šä¹‰
//!
//! æä¾›å¤šä¸ªå‘½ä»¤å…±äº«çš„å‚æ•°ç»„ï¼Œå‡å°‘ä»£ç é‡å¤ã€‚

use clap::Args;

/// è¾“å‡ºæ ¼å¼é€‰é¡¹
///
/// æ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼ï¼štableï¼ˆé»˜è®¤ï¼‰ã€jsonã€yamlã€markdownã€‚
/// ä¼˜å…ˆçº§ï¼šjson > yaml > markdown > table
#[derive(Args, Debug, Clone)]
pub struct OutputFormatArgs {
    /// Output in table format (default)
    #[arg(long)]
    pub table: bool,

    /// Output in JSON format
    #[arg(long)]
    pub json: bool,

    /// Output in YAML format
    #[arg(long)]
    pub yaml: bool,

    /// Output in Markdown format
    #[arg(long)]
    pub markdown: bool,
}

/// Dry-run é€‰é¡¹
///
/// é¢„è§ˆæ“ä½œè€Œä¸å®é™…æ‰§è¡Œã€‚
#[derive(Args, Debug, Clone)]
pub struct DryRunArgs {
    /// Dry run mode (preview changes without actually doing it)
    #[arg(long, short = 'n')]
    pub dry_run: bool,
}
```

2. **åœ¨ CLI æ¨¡å—ä¸­å¯¼å‡º**

åœ¨ `src/lib/cli/mod.rs` ä¸­ï¼š

```rust
mod common;
pub use common::{OutputFormatArgs, DryRunArgs};
```

3. **åœ¨å‘½ä»¤ä¸­ä½¿ç”¨**

åœ¨å‘½ä»¤æšä¸¾ä¸­ä½¿ç”¨ `#[command(flatten)]`ï¼š

```rust
// src/lib/cli/jira.rs
use super::common::OutputFormatArgs;

#[derive(Subcommand)]
pub enum JiraSubcommand {
    Info {
        #[arg(value_name = "JIRA_ID")]
        jira_id: Option<String>,

        #[command(flatten)]
        output_format: OutputFormatArgs,
    },
    // ... å…¶ä»–å‘½ä»¤
}
```

4. **åœ¨å‘½ä»¤å®ç°ä¸­ä½¿ç”¨**

```rust
// src/commands/jira/info.rs
use crate::cli::OutputFormatArgs;
use crate::commands::jira::helpers::OutputFormat;

pub fn show(
    jira_id: Option<String>,
    output_format: &OutputFormatArgs,
) -> Result<()> {
    // è½¬æ¢ä¸ºå†…éƒ¨æ ¼å¼
    let format = OutputFormat::from(output_format);

    // ä½¿ç”¨ format è¿›è¡Œè¾“å‡º
    match format {
        OutputFormat::Json => output_json(&issue)?,
        OutputFormat::Yaml => output_yaml(&issue)?,
        // ...
    }

    Ok(())
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… å‡å°‘ä»£ç é‡å¤ï¼ˆæ¯ä¸ªå‘½ä»¤ä¸å†éœ€è¦é‡å¤å®šä¹‰ 4 ä¸ªå¸ƒå°”å‚æ•°ï¼‰
- âœ… ç±»å‹å®‰å…¨ï¼ˆä½¿ç”¨ç»“æ„ä½“è€Œéå¤šä¸ªç‹¬ç«‹å‚æ•°ï¼‰
- âœ… è‡ªåŠ¨ç”Ÿæˆè¡¥å…¨è„šæœ¬ï¼ˆclap è‡ªåŠ¨å¤„ç†ï¼‰
- âœ… æ˜“äºç»´æŠ¤ï¼ˆä¿®æ”¹ä¸€å¤„å³å¯å½±å“æ‰€æœ‰ä½¿ç”¨è¯¥å‚æ•°çš„å‘½ä»¤ï¼‰

#### æå–å…±ç”¨å·¥å…·å‡½æ•°

**åœºæ™¯**ï¼šå¤šä¸ªå‘½ä»¤ä½¿ç”¨ç›¸åŒçš„é€»è¾‘ï¼ˆå¦‚è·å– JIRA IDã€æ ¼å¼åŒ–æ—¥æœŸç­‰ï¼‰

**æ­¥éª¤**ï¼š

1. **åˆ›å»º helpers æ¨¡å—**

åœ¨å‘½ä»¤ç›®å½•ä¸‹åˆ›å»º `helpers.rs`ï¼š

```rust
// src/commands/jira/helpers.rs
//! Jira å‘½ä»¤å…¬å…±å¸®åŠ©å‡½æ•°
//!
//! æä¾› Jira å‘½ä»¤ä¹‹é—´å…±äº«çš„å…¬å…±åŠŸèƒ½ï¼Œé¿å…ä»£ç é‡å¤ã€‚

use crate::base::dialog::InputDialog;
use anyhow::{Context, Result};

/// è·å– JIRA IDï¼ˆä»å‚æ•°æˆ–äº¤äº’å¼è¾“å…¥ï¼‰
pub fn get_jira_id(
    jira_id: Option<String>,
    prompt_message: Option<&str>,
) -> Result<String> {
    if let Some(id) = jira_id {
        Ok(id)
    } else {
        let message = prompt_message
            .unwrap_or("Enter Jira ticket ID (e.g., PROJ-123)");
        InputDialog::new(message)
            .prompt()
            .context("Failed to read Jira ticket ID")
    }
}
```

2. **åœ¨å‘½ä»¤ä¸­ä½¿ç”¨**

```rust
// src/commands/jira/info.rs
use super::helpers::get_jira_id;

pub fn show(jira_id: Option<String>, ...) -> Result<()> {
    let jira_id = get_jira_id(jira_id, None)?;
    // ... ä½¿ç”¨ jira_id
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†
- âœ… å‡å°‘ä»£ç é‡å¤
- âœ… æ˜“äºæµ‹è¯•å’Œç»´æŠ¤

#### æå–å…±ç”¨é”™è¯¯å¤„ç†

**åœºæ™¯**ï¼šå¤šä¸ªå‘½ä»¤ä½¿ç”¨ç›¸åŒçš„é”™è¯¯å¤„ç†æ¨¡å¼

**æ­¥éª¤**ï¼š

1. **ä½¿ç”¨ anyhow çš„ Context**

```rust
use anyhow::{Context, Result};

pub fn download_file(url: &str) -> Result<Vec<u8>> {
    reqwest::blocking::get(url)
        .context("Failed to download file")?
        .bytes()
        .context("Failed to read response body")?
        .to_vec()
        .context("Failed to convert to bytes")
}
```

2. **åˆ›å»ºè‡ªå®šä¹‰é”™è¯¯ç±»å‹**ï¼ˆå¦‚æœéœ€è¦ï¼‰

```rust
use thiserror::Error;

#[derive(Error, Debug)]
pub enum JiraError {
    #[error("Jira ticket not found: {0}")]
    NotFound(String),

    #[error("Failed to parse response: {0}")]
    ParseError(#[from] serde_json::Error),
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… ç»Ÿä¸€çš„é”™è¯¯æ¶ˆæ¯æ ¼å¼
- âœ… æ›´å¥½çš„é”™è¯¯ä¸Šä¸‹æ–‡ä¿¡æ¯
- âœ… æ˜“äºè°ƒè¯•å’Œæ’æŸ¥é—®é¢˜

### 3.2 ä»£ç é‡å¤æ£€æŸ¥

**æ£€æŸ¥é¡¹**ï¼š
- [ ] è¾“å‡ºæ ¼å¼å¤„ç†é€»è¾‘æ˜¯å¦å·²æå–
- [ ] å‚æ•°è§£æé€»è¾‘æ˜¯å¦å¯å¤ç”¨
- [ ] æ–‡ä»¶æ“ä½œæ˜¯å¦ä½¿ç”¨å…±ç”¨å·¥å…·ï¼ˆ`lib/base/util`ï¼‰
- [ ] HTTP è¯·æ±‚æ˜¯å¦ç»Ÿä¸€ä½¿ç”¨ `HttpClient`
- [ ] Git æ“ä½œæ˜¯å¦ç»Ÿä¸€ä½¿ç”¨ `lib/git` æ¨¡å—

**å·¥å…·å‡½æ•°ä½ç½®**ï¼š
- `lib/base/util/` - é€šç”¨å·¥å…·å‡½æ•°
- `lib/base/dialog/` - äº¤äº’å¼å¯¹è¯æ¡†
- `lib/base/indicator/` - è¿›åº¦æŒ‡ç¤ºå™¨
- `commands/*/helpers.rs` - å‘½ä»¤ç‰¹å®šå¸®åŠ©å‡½æ•°

### 3.3 å·¥å…·å‡½æ•°å¤ç”¨

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æ˜¯å¦ä½¿ç”¨ `lib/base/util` ä¸­çš„å·¥å…·å‡½æ•°
  - `format_size()` - æ–‡ä»¶å¤§å°æ ¼å¼åŒ–
  - `mask_sensitive_value()` - æ•æ„Ÿå€¼éšè—
  - `Browser`ã€`Clipboard` - æµè§ˆå™¨å’Œå‰ªè´´æ¿æ“ä½œ
  - `Checksum`ã€`Unzip` - æ–‡ä»¶æ“ä½œ
- [ ] æ˜¯å¦ä½¿ç”¨ `lib/base/dialog` è¿›è¡Œç”¨æˆ·äº¤äº’
- [ ] æ˜¯å¦ä½¿ç”¨ `lib/base/indicator` æ˜¾ç¤ºè¿›åº¦

**ç¤ºä¾‹**ï¼š
```rust
use crate::base::util::{format_size, Browser, Clipboard};
use crate::base::dialog::InputDialog;
use crate::base::indicator::Spinner;

// ä½¿ç”¨å·¥å…·å‡½æ•°
let size = format_size(1024 * 1024); // "1.0 MB"
Browser::open("https://example.com")?;
Clipboard::copy("text")?;

// ä½¿ç”¨å¯¹è¯æ¡†
let input = InputDialog::new("Enter value:").prompt()?;

// ä½¿ç”¨è¿›åº¦æŒ‡ç¤ºå™¨
let result = Spinner::with("Processing...", || {
    // æ‰§è¡Œè€—æ—¶æ“ä½œ
})?;
```

### 3.4 é…ç½®ç®¡ç†

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æ˜¯å¦ä½¿ç”¨ `Settings` ç»Ÿä¸€ç®¡ç†é…ç½®
- [ ] æ˜¯å¦ä½¿ç”¨ `Paths` ç»Ÿä¸€ç®¡ç†è·¯å¾„
- [ ] é…ç½®éªŒè¯æ˜¯å¦ç»Ÿä¸€

**ç¤ºä¾‹**ï¼š
```rust
use crate::base::settings::{Settings, Paths};

// ä½¿ç”¨ Settings
let settings = Settings::load()?;
let jira_config = &settings.jira;

// ä½¿ç”¨ Paths
let config_dir = Paths::config_dir()?;
let completion_dir = Paths::completion_dir()?;
```

---

## ğŸ§ª æµ‹è¯•ç”¨ä¾‹æ£€æŸ¥

### 4.1 å•å…ƒæµ‹è¯•

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æ–°å¢åŠŸèƒ½æ˜¯å¦æœ‰å¯¹åº”çš„å•å…ƒæµ‹è¯•
- [ ] è¾¹ç•Œæƒ…å†µæ˜¯å¦å·²è¦†ç›–
- [ ] é”™è¯¯å¤„ç†æ˜¯å¦å·²æµ‹è¯•

**ä½ç½®**ï¼šä¸æºä»£ç åœ¨åŒä¸€æ–‡ä»¶ä¸­ï¼ˆ`#[cfg(test)]` æ¨¡å—ï¼‰

**ç¤ºä¾‹**ï¼š
```rust
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_get_jira_id_with_param() {
        let result = get_jira_id(Some("PROJ-123".to_string()), None);
        assert_eq!(result.unwrap(), "PROJ-123");
    }

    #[test]
    fn test_get_jira_id_without_param() {
        // éœ€è¦ mock InputDialog
    }
}
```

### 4.2 é›†æˆæµ‹è¯•

**æ£€æŸ¥é¡¹**ï¼š
- [ ] CLI å‘½ä»¤æ˜¯å¦åœ¨ `tests/cli/` ä¸­æœ‰æµ‹è¯•
- [ ] è¡¥å…¨å®Œæ•´æ€§æµ‹è¯•æ˜¯å¦é€šè¿‡ï¼ˆ`tests/completion/completeness.rs`ï¼‰
- [ ] é›†æˆæµ‹è¯•æ˜¯å¦è¦†ç›–ä¸»è¦æµç¨‹ï¼ˆ`tests/integration/`ï¼‰

**ä½ç½®**ï¼š`tests/` ç›®å½•

**è¿è¡Œæµ‹è¯•**ï¼š
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test --verbose

# è¿è¡Œç‰¹å®šæµ‹è¯•
cargo test --test completeness
cargo test --lib --tests
```

### 4.3 æµ‹è¯•è¦†ç›–ç‡

**æ£€æŸ¥é¡¹**ï¼š
- [ ] è¿è¡Œ `cargo test --verbose` ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ–°å¢ä»£ç è·¯å¾„æ˜¯å¦è¢«æµ‹è¯•è¦†ç›–
- [ ] æµ‹è¯•ç”¨ä¾‹å‘½åæ˜¯å¦æ¸…æ™°ï¼ˆ`test_*`ï¼‰

### 4.4 æµ‹è¯•æ•°æ®

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æµ‹è¯• fixturesï¼ˆ`tests/fixtures/`ï¼‰æ˜¯å¦éœ€è¦æ›´æ–°
- [ ] Mock æ•°æ®æ˜¯å¦å‡†ç¡®

---

## âœ… ä»£ç è´¨é‡æ£€æŸ¥

### 5.1 æ ¼å¼åŒ–æ£€æŸ¥

**å‘½ä»¤**ï¼š
```bash
make lint
# æˆ–
cargo fmt --check
```

**æ£€æŸ¥é¡¹**ï¼š
- [ ] ä»£ç æ ¼å¼æ˜¯å¦ç¬¦åˆ `rustfmt.toml` é…ç½®
- [ ] ç¼©è¿›æ˜¯å¦ç»Ÿä¸€ï¼ˆ4 ä¸ªç©ºæ ¼ï¼‰
- [ ] è¡Œå®½æ˜¯å¦åœ¨ 100 å­—ç¬¦ä»¥å†…

**è‡ªåŠ¨ä¿®å¤**ï¼š
```bash
cargo fmt
```

### 5.2 Clippy æ£€æŸ¥

**å‘½ä»¤**ï¼š
```bash
cargo clippy -- -D warnings
```

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æ‰€æœ‰ Clippy è­¦å‘Šæ˜¯å¦å·²ä¿®å¤
- [ ] å¤æ‚åº¦é˜ˆå€¼æ˜¯å¦ç¬¦åˆ `.clippy.toml` é…ç½®
- [ ] æ˜¯å¦ä½¿ç”¨äº†ä¸å¿…è¦çš„ `unwrap()`ï¼ˆåº”ä½¿ç”¨ `expect()` æˆ–é”™è¯¯å¤„ç†ï¼‰

**è‡ªåŠ¨ä¿®å¤**ï¼š
```bash
cargo clippy --fix --allow-dirty --allow-staged
```

### 5.3 ç¼–è¯‘æ£€æŸ¥

**å‘½ä»¤**ï¼š
```bash
cargo check
```

**æ£€æŸ¥é¡¹**ï¼š
- [ ] ä»£ç æ˜¯å¦èƒ½å¤Ÿç¼–è¯‘é€šè¿‡
- [ ] æ˜¯å¦æœ‰æœªä½¿ç”¨çš„å¯¼å…¥æˆ–å˜é‡
- [ ] ç±»å‹æ˜¯å¦åŒ¹é…

### 5.4 è‡ªåŠ¨ä¿®å¤

**å‘½ä»¤**ï¼š
```bash
make fix
# æˆ–æ‰‹åŠ¨æ‰§è¡Œï¼š
cargo fmt
cargo clippy --fix --allow-dirty --allow-staged
cargo fix --allow-dirty --allow-staged
```

**æ£€æŸ¥é¡¹**ï¼š
- [ ] è¿è¡Œè‡ªåŠ¨ä¿®å¤åæ˜¯å¦è¿˜æœ‰é—®é¢˜
- [ ] è‡ªåŠ¨ä¿®å¤åçš„ä»£ç æ˜¯å¦ä»éœ€æ‰‹åŠ¨è°ƒæ•´

---

## ğŸ” å…¶ä»–æ£€æŸ¥é¡¹

### 6.1 ç‰ˆæœ¬ç®¡ç†

**æ£€æŸ¥é¡¹**ï¼š
- [ ] `Cargo.toml` ç‰ˆæœ¬å·æ˜¯å¦å·²æ›´æ–°
- [ ] `Cargo.lock` æ˜¯å¦å·²æ›´æ–°
- [ ] å˜æ›´æ—¥å¿—æ˜¯å¦éœ€è¦æ›´æ–°

### 6.2 Git æ£€æŸ¥

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆ Conventional Commits è§„èŒƒ
- [ ] æ˜¯å¦åŒ…å«ä¸å¿…è¦çš„ä¸´æ—¶æ–‡ä»¶ï¼ˆæ£€æŸ¥ `.gitignore`ï¼‰
- [ ] åˆ†æ”¯å‘½åæ˜¯å¦ç¬¦åˆè§„èŒƒ

**æäº¤ä¿¡æ¯æ ¼å¼**ï¼š
```
<type>(<scope>): <subject>

<body>

<footer>
```

**ç±»å‹**ï¼š
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œï¼‰
- `refactor`: é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

### 6.3 ä¾èµ–ç®¡ç†

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æ–°å¢ä¾èµ–æ˜¯å¦å¿…è¦
- [ ] ä¾èµ–ç‰ˆæœ¬æ˜¯å¦åˆç†
- [ ] æ˜¯å¦æœ‰å®‰å…¨æ¼æ´ï¼ˆå¯è¿è¡Œ `cargo audit`ï¼‰

### 6.4 å¹³å°å…¼å®¹æ€§

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æ˜¯å¦è€ƒè™‘äº†è·¨å¹³å°å…¼å®¹æ€§ï¼ˆmacOS/Linux/Windowsï¼‰
- [ ] å¹³å°ç‰¹å®šä»£ç æ˜¯å¦ä½¿ç”¨äº†æ¡ä»¶ç¼–è¯‘ï¼ˆ`#[cfg(...)]`ï¼‰
- [ ] æ˜¯å¦æµ‹è¯•äº†ä¸åŒå¹³å°

**ç¤ºä¾‹**ï¼š
```rust
#[cfg(target_os = "macos")]
fn get_system_proxy() -> Result<String> {
    // macOS ç‰¹å®šå®ç°
}

#[cfg(target_os = "linux")]
fn get_system_proxy() -> Result<String> {
    // Linux ç‰¹å®šå®ç°
}
```

### 6.5 æ€§èƒ½æ£€æŸ¥

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æ˜¯å¦æœ‰æ˜æ˜¾çš„æ€§èƒ½é—®é¢˜ï¼ˆå¦‚ä¸å¿…è¦çš„å…‹éš†ã€é‡å¤è®¡ç®—ï¼‰
- [ ] å¤§æ–‡ä»¶å¤„ç†æ˜¯å¦ä½¿ç”¨äº†æµå¼å¤„ç†
- [ ] ç½‘ç»œè¯·æ±‚æ˜¯å¦ä½¿ç”¨äº†é‡è¯•æœºåˆ¶

### 6.6 å®‰å…¨æ€§æ£€æŸ¥

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æ•æ„Ÿä¿¡æ¯ï¼ˆAPI keysã€tokensï¼‰æ˜¯å¦ç¡¬ç¼–ç 
- [ ] æ–‡ä»¶æ“ä½œæ˜¯å¦æ£€æŸ¥äº†è·¯å¾„å®‰å…¨æ€§
- [ ] ç”¨æˆ·è¾“å…¥æ˜¯å¦è¿›è¡Œäº†éªŒè¯

### 6.7 ç”¨æˆ·ä½“éªŒ

**æ£€æŸ¥é¡¹**ï¼š
- [ ] é”™è¯¯æ¶ˆæ¯æ˜¯å¦å¯¹ç”¨æˆ·å‹å¥½
- [ ] è¿›åº¦æç¤ºæ˜¯å¦æ¸…æ™°
- [ ] å¸®åŠ©ä¿¡æ¯æ˜¯å¦å®Œæ•´ï¼ˆ`--help`ï¼‰

---

## âš¡ å¿«é€Ÿæ£€æŸ¥æ¸…å•

åœ¨æäº¤ä»£ç å‰ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# 1. ä»£ç è´¨é‡æ£€æŸ¥
make lint

# 2. è¿è¡Œæ‰€æœ‰æµ‹è¯•
make test
# æˆ–
cargo test --verbose

# 3. è¡¥å…¨è„šæœ¬å®Œæ•´æ€§æµ‹è¯•
cargo test --test completeness

# 4. æ„å»ºéªŒè¯
cargo build --release

# 5. ä½¿ç”¨å†…ç½®æ£€æŸ¥å‘½ä»¤ï¼ˆå¦‚æœå¯ç”¨ï¼‰
workflow check
```

### æ£€æŸ¥ä¼˜å…ˆçº§

#### å¿…é¡»å®Œæˆï¼ˆP0ï¼‰
1. âœ… ä»£ç è´¨é‡æ£€æŸ¥ï¼ˆ`make lint`ï¼‰
2. âœ… æµ‹è¯•é€šè¿‡ï¼ˆ`make test`ï¼‰
3. âœ… è¡¥å…¨è„šæœ¬å®Œæ•´æ€§ï¼ˆ`cargo test --test completeness`ï¼‰
4. âœ… ç¼–è¯‘é€šè¿‡ï¼ˆ`cargo check`ï¼‰

#### åº”è¯¥å®Œæˆï¼ˆP1ï¼‰
1. âœ… æ–‡æ¡£æ›´æ–°ï¼ˆREADME.mdã€æ¶æ„æ–‡æ¡£ï¼‰
2. âœ… CLI å‘½ä»¤æ³¨å†Œå’Œè¡¥å…¨
3. âœ… åŸºæœ¬æµ‹è¯•ç”¨ä¾‹

#### å»ºè®®å®Œæˆï¼ˆP2ï¼‰
1. âœ… ä»£ç ä¼˜åŒ–ï¼ˆæå–å…±ç”¨ä»£ç ï¼‰
2. âœ… æµ‹è¯•è¦†ç›–ç‡æå‡
3. âœ… æ€§èƒ½ä¼˜åŒ–

---

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•å¿«é€Ÿæ£€æŸ¥æ‰€æœ‰é¡¹ï¼Ÿ

**A**: è¿è¡Œ `make lint && make test`ï¼Œç„¶åæ‰‹åŠ¨æ£€æŸ¥æ–‡æ¡£å’Œæµ‹è¯•è¦†ç›–ç‡ã€‚

### Q: è¡¥å…¨è„šæœ¬æµ‹è¯•å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A**: æ£€æŸ¥ `src/lib/cli/` ä¸­çš„å‘½ä»¤ç»“æ„ï¼Œç¡®ä¿æ‰€æœ‰å‘½ä»¤éƒ½å·²æ­£ç¡®æ³¨å†Œã€‚è¿è¡Œ `cargo run -- completion generate` æ‰‹åŠ¨ç”Ÿæˆè¡¥å…¨è„šæœ¬éªŒè¯ã€‚

### Q: å¦‚ä½•æå–å…±ç”¨ä»£ç ï¼Ÿ

**A**: å‚è€ƒ [ä»£ç ä¼˜åŒ–æ£€æŸ¥](#-ä»£ç ä¼˜åŒ–æ£€æŸ¥) éƒ¨åˆ†çš„å…·ä½“ç¤ºä¾‹ï¼š
- ä½¿ç”¨ clap çš„ `Args` trait å’Œ `#[command(flatten)]` æå–å…±ç”¨å‚æ•°
- åˆ›å»º `helpers.rs` æ¨¡å—æå–å…±ç”¨å·¥å…·å‡½æ•°
- ä½¿ç”¨ `anyhow::Context` ç»Ÿä¸€é”™è¯¯å¤„ç†

### Q: æ–‡æ¡£æ›´æ–°ä¼˜å…ˆçº§ï¼Ÿ

**A**: ä¼˜å…ˆæ›´æ–° README.md å’Œç›¸å…³çš„å‘½ä»¤æ¶æ„æ–‡æ¡£ï¼Œå…¶ä»–æ–‡æ¡£å¯ä»¥åç»­è¡¥å……ã€‚

### Q: å¦‚ä½•éªŒè¯è¡¥å…¨è„šæœ¬ï¼Ÿ

**A**:
1. è¿è¡Œ `cargo test --test completeness` éªŒè¯å®Œæ•´æ€§
2. è¿è¡Œ `cargo run -- completion generate` ç”Ÿæˆè¡¥å…¨è„šæœ¬
3. æ‰‹åŠ¨æµ‹è¯•è¡¥å…¨åŠŸèƒ½ï¼ˆåœ¨ shell ä¸­æŒ‰ Tab é”®ï¼‰

### Q: ä»£ç ä¼˜åŒ–æ˜¯å¿…é¡»çš„å—ï¼Ÿ

**A**: ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†å¼ºçƒˆå»ºè®®ã€‚ä»£ç ä¼˜åŒ–å¯ä»¥æé«˜ä»£ç è´¨é‡ã€å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§ã€‚å¦‚æœæ—¶é—´ç´§è¿«ï¼Œå¯ä»¥å…ˆå®Œæˆ P0 å’Œ P1 é¡¹ï¼ŒP2 é¡¹å¯ä»¥åç»­ä¼˜åŒ–ã€‚

---

## ğŸ“ æäº¤å‰æœ€ç»ˆæ£€æŸ¥

åœ¨æäº¤ä»£ç å‰ï¼Œç¡®è®¤ä»¥ä¸‹æ‰€æœ‰é¡¹ï¼š

- [ ] æ‰€æœ‰ P0 æ£€æŸ¥é¡¹å·²é€šè¿‡
- [ ] ä»£ç å·²æ ¼å¼åŒ–ï¼ˆ`cargo fmt`ï¼‰
- [ ] æµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼ˆ`cargo test`ï¼‰
- [ ] æ–‡æ¡£å·²æ›´æ–°
- [ ] æäº¤ä¿¡æ¯æ¸…æ™°ä¸”ç¬¦åˆè§„èŒƒ
- [ ] å·²æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯
- [ ] PR æè¿°å®Œæ•´ï¼ˆå¦‚é€‚ç”¨ï¼‰

---

**å®Œæˆä»¥ä¸Šæ£€æŸ¥åï¼Œä»£ç å³å¯æäº¤ï¼** ğŸ‰
