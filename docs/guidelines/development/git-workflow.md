# Git 工作流规范

> 本文档定义了 Workflow CLI 项目的 Git 工作流规范和最佳实践，所有贡献者都应遵循这些规范。

---

## 📋 目录

- [概述](#-概述)
- [分支策略](#-分支策略)
- [分支命名](#-分支命名)
- [工作流程](#-工作流程)
- [相关文档](#-相关文档)

---

## 📋 概述

本文档定义了 Git 工作流规范，包括分支策略、分支命名和工作流程。

### 核心原则

- **主分支稳定**：`master` 分支保持稳定，只接受合并请求
- **功能分支**：新功能在独立分支开发
- **规范命名**：分支命名清晰表达意图

### 使用场景

- 创建新功能分支时参考
- 修复 bug 时使用
- 代码审查时检查

---

## 分支策略

- **`master`**：主分支，保持稳定，只接受合并请求
- **`feature/*`**：功能分支，从 `master` 创建，完成后合并回 `master`
- **`fix/*`**：修复分支，从 `master` 创建，用于修复 bug
- **`hotfix/*`**：热修复分支，用于紧急修复生产问题

---

## 分支命名

- 功能分支：`feature/jira-attachments`
- 修复分支：`fix/pr-merge-error`
- 热修复分支：`hotfix/critical-bug`

**注意**：Workflow CLI 支持通过模板系统自定义分支命名格式。详细配置方法请参考 [模板配置指南](../template.md#分支命名模板-templatebranch)。

---

## 工作流程

1. **创建分支**：从 `master` 创建新分支
2. **开发**：在分支上进行开发
3. **提交**：遵循提交规范（见 [提交规范](./commit.md)）
4. **推送**：推送到远程仓库
5. **创建 PR**：创建 Pull Request 到 `master`
6. **代码审查**：等待代码审查（见 [代码审查规范](./code-review.md)）
7. **合并**：审查通过后合并到 `master`

---

## 🔍 故障排除

### 问题 1：分支命名不规范

**症状**：分支命名不符合规范

**解决方案**：

1. 遵循分支命名规范
2. 使用描述性的分支名称
3. 使用模板系统自定义分支命名格式

### 问题 2：分支合并冲突

**症状**：合并分支时出现冲突

**解决方案**：

1. 定期从 `master` 拉取最新代码
2. 及时解决冲突
3. 确保冲突解决后代码可以正常编译和测试

---

## 📚 相关文档

### 开发规范

- [提交规范](./commit.md) - 提交规范
- [代码审查规范](./code-review.md) - 代码审查规范

### 模板配置

- [模板配置指南](../template.md#分支命名模板-templatebranch) - 分支命名模板配置

---

## ✅ 检查清单

使用本规范时，请确保：

- [ ] 分支从 `master` 创建
- [ ] 分支命名符合规范
- [ ] 提交信息符合规范
- [ ] 代码审查通过后合并

---

**最后更新**: 2025-12-23

