---
description: 保持中英文版本规则文件同步的规则
type: always
---

# 文件同步规则

> **⚠️ 同步提示**：此文件必须与其英文版本 `.cursor/rules/sync.mdc` 保持同步。修改此文件时，必须立即更新对应的英文版本。

---

## 文件同步规则

**重要**：`.cursor/rules/` 和 `docs/cursorrules/` 目录下的所有规则文件必须始终保持同步。每个英文文件都有对应的同名中文文件。

### 同步更新的触发时机

**规则**：只要修改了 `.cursor/rules/` 或 `docs/cursorrules/` 目录下的任何一个文件，就必须立即同步更新对应的文件。

### 同步更新的方向

- **修改 `.cursor/rules/{filename}.mdc`（英文版）** → 必须立即同步更新 `docs/cursorrules/{filename}.mdc`（中文版）
- **修改 `docs/cursorrules/{filename}.mdc`（中文版）** → 必须立即同步更新 `.cursor/rules/{filename}.mdc`（英文版）

### 同步更新的验证方法

- **手动检查清单**：
  1. 检查两个文件的章节结构是否一致（标题层级、章节顺序）
  2. 检查关键规则是否在两个文件中都存在（如代码生成规则、文档管理规则等）
  3. 检查两个文件的"最后更新"时间戳是否一致
  4. 检查两个文件的目录结构是否一致
- **自动化验证脚本**（建议实现）：
  - 检查两个文件的章节标题是否一致（忽略语言差异）
  - 检查两个文件的行数是否接近（考虑中英文长度差异）
  - 检查关键标记（如 `##`、`###`）的数量是否一致
  - 检查"最后更新"时间戳是否一致
- **Git hooks 验证**（建议实现）：
  - 在 pre-commit hook 中检查：如果修改了 `.cursor/rules/` 或 `docs/cursorrules/` 目录下的任何文件，检查对应的文件是否也在本次提交中修改
  - 如果只修改了一个文件，提示需要同步更新另一个文件
- **CI/CD 验证**（建议实现）：
  - 在 CI 流程中检查对应文件的同步状态
  - 如果检测到不同步，CI 构建失败并提示需要同步更新

---

**最后更新**: 2025-12-25
